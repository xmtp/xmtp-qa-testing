Error: Error creating encrypted message store
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  3 skipped (3)
   Start at  16:44:19
   Duration  3.46s (transform 71ms, setup 0ms, collect 689ms, tests 2.63s, environment 0ms, prepare 40ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51687) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:02.154Z] [info] Using env keys for henry: 0x2dA0D60B4193f0F7A46C6384AC05a74E359F5b37
[2025-03-12T19:45:02.159Z] [info] Using env keys for ivy: 0xABdB70C19003eBe7fcb92A896aCecD98642E65b2
[2025-03-12T19:45:02.162Z] [info] Using env keys for jack: 0x92b8caeAEDcA03fc4F5D89140Fd7A8f17c9B8B2f
[2025-03-12T19:45:02.164Z] [info] Using env keys for karen: 0xca700Ce956CDcEC909469af50e55825b7F07b49F
[2025-03-12T19:45:02.165Z] [info] Generating new keys for randomguy
[2025-03-12T19:45:02.168Z] [info] Using env keys for larry: 0x5CdeDdeA8768AEd5EEDD782500CA1D40c6F719B8
[2025-03-12T19:45:02.169Z] [info] Using env keys for mary: 0xe80e90a90107DD25E8F1c93cAe3cF67042611e1B
[2025-03-12T19:45:02.171Z] [info] Using env keys for nancy: 0xD7F2986C711D23C61c68F1fC99990eF9F9710dbE
[2025-03-12T19:45:02.172Z] [info] Using env keys for oscar: 0x5C1b43dD62f532a8cC39B5cC892dc9146888E0fF
[2025-03-12T19:45:02.174Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0x2da0d60b4193f0f7a46c6384ac05a74e359f5b37-e8c52be-dev
[2025-03-12T19:45:02.175Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xabdb70c19003ebe7fcb92a896acecd98642e65b2-e8c52be-dev
[2025-03-12T19:45:02.175Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0x92b8caeaedca03fc4f5d89140fd7a8f17c9b8b2f-e8c52be-dev
[2025-03-12T19:45:02.175Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0xca700ce956cdcec909469af50e55825b7f07b49f-e8c52be-dev
[2025-03-12T19:45:02.175Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0x58881d58b99d96c97fda6024510ef8c1bbbb30b7-e8c52be-dev
[2025-03-12T19:45:02.175Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x5cdeddea8768aed5eedd782500ca1d40c6f719b8-e8c52be-dev
[2025-03-12T19:45:02.175Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0xe80e90a90107dd25e8f1c93cae3cf67042611e1b-e8c52be-dev
[2025-03-12T19:45:02.176Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xd7f2986c711d23c61c68f1fc99990ef9f9710dbe-e8c52be-dev
[2025-03-12T19:45:02.176Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5c1b43dd62f532a8cc39b5cc892dc9146888e0ff-e8c52be-dev


 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:45:01
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.295Z] [warn] [henry-a] Create XMTP client v:e8c52be 2.121s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.307Z] [error] [vitest] Test failed in undefined Error creating encrypted message store

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.308Z] [info] The tests indicated that the test ts_dms was failure
[2025-03-12T19:45:04.308Z] [info] Successfully reported failure to Datadog


 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:45:01
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.413Z] [warn] [jack-a] Create XMTP client v:e8c52be 2.238s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.729Z] [warn] [henry-a] Start message stream 434.102ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.730Z] [warn] [henry-a] Start stream 435.147ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.847Z] [warn] [jack-a] Start message stream 433.621ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:04.847Z] [warn] [jack-a] Start stream 434.274ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:05.049Z] [warn] [henry-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:45:05.049Z] [warn] [jack-a] Terminated stream

 ❯ tests/dms.test.ts (3 tests | 3 skipped) 2923ms
   ↓ ts_dms > createDM: should measure creating a DM
   ↓ ts_dms > sendGM: should measure sending a gm
   ↓ ts_dms > receiveGM: should measure receiving a gm

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/dms.test.ts > ts_dms
Error: Error creating encrypted message store
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  3 skipped (3)
   Start at  16:45:01
   Duration  3.77s (transform 70ms, setup 0ms, collect 705ms, tests 2.92s, environment 0ms, prepare 33ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51731) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:00.577Z] [info] Generating new keys for henry
[2025-03-12T19:46:00.607Z] [info] Generating new keys for ivy
[2025-03-12T19:46:00.611Z] [info] Generating new keys for jack
[2025-03-12T19:46:00.613Z] [info] Generating new keys for karen
[2025-03-12T19:46:00.615Z] [info] Generating new keys for randomguy
[2025-03-12T19:46:00.617Z] [info] Generating new keys for larry
[2025-03-12T19:46:00.618Z] [info] Generating new keys for mary
[2025-03-12T19:46:00.620Z] [info] Generating new keys for nancy
[2025-03-12T19:46:00.622Z] [info] Generating new keys for oscar
[2025-03-12T19:46:00.623Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xb5ae0f84eaaec701b76bd1c1651f452045309de7-e8c52be-dev
[2025-03-12T19:46:00.624Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0x5bab2d469798d4786be788a0adf08515a85f3241-e8c52be-dev
[2025-03-12T19:46:00.624Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0x844a00c9d7765dadad3d18c74649e011a1c73eb3-e8c52be-dev
[2025-03-12T19:46:00.624Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x425f2da024bdd213271863842fc28b28cf079d72-e8c52be-dev
[2025-03-12T19:46:00.624Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xdd7752fd4e6381775576981bdd45bba855d75eab-e8c52be-dev
[2025-03-12T19:46:00.624Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0xe828198b27e68bf39767cee26ada8a4c07cb5a44-e8c52be-dev
[2025-03-12T19:46:00.624Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x0cb77a68091619b26d178673804aa9bd6b0f4772-e8c52be-dev
[2025-03-12T19:46:00.625Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0x105a4cf9d044a9304ba85398bf79652c95bc7411-e8c52be-dev
[2025-03-12T19:46:00.625Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0xb5cbf33afd939b2136a5c10a4fe4b30272b4d507-e8c52be-dev

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.433Z] [warn] [karen-a] Create XMTP client v:e8c52be 3.809s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.587Z] [warn] [henry-a] Create XMTP client v:e8c52be 3.964s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.657Z] [warn] [ivy-a] Create XMTP client v:e8c52be 4.033s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.657Z] [warn] [oscar-a] Create XMTP client v:e8c52be 4.032s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.727Z] [warn] [mary-a] Create XMTP client v:e8c52be 4.103s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.736Z] [warn] [jack-a] Create XMTP client v:e8c52be 4.112s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.798Z] [warn] [larry-a] Create XMTP client v:e8c52be 4.174s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.842Z] [warn] [karen-a] Start message stream 408.58ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.842Z] [warn] [karen-a] Start stream 408.911ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.842Z] [warn] [nancy-a] Create XMTP client v:e8c52be 4.218s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.940Z] [warn] [henry-a] Start message stream 352.819ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.940Z] [warn] [henry-a] Start stream 353.118ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:04.941Z] [warn] [randomguy-a] Create XMTP client v:e8c52be 4.317s

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.064Z] [warn] [ivy-a] Start message stream 406.82ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.064Z] [warn] [ivy-a] Start stream 407.269ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.065Z] [warn] [oscar-a] Start message stream 407.663ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.065Z] [warn] [oscar-a] Start stream 407.844ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.130Z] [warn] [mary-a] Start message stream 402.374ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.130Z] [warn] [mary-a] Start stream 402.601ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.135Z] [warn] [jack-a] Start message stream 399.631ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.136Z] [warn] [jack-a] Start stream 399.807ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.197Z] [warn] [larry-a] Start message stream 398.679ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.198Z] [warn] [larry-a] Start stream 399.197ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.246Z] [warn] [nancy-a] Start message stream 403.165ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.246Z] [warn] [nancy-a] Start stream 403.759ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.334Z] [warn] [randomguy-a] Start message stream 392.897ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:05.334Z] [warn] [randomguy-a] Start stream 393.263ms

stdout | tests/dms.test.ts > ts_dms > createDM: should measure creating a DM
[2025-03-12T19:46:07.365Z] [warn] ts_dms > createDM: should measure creating a DM 2.029s

stdout | tests/dms.test.ts > ts_dms > sendGM: should measure sending a gm
[2025-03-12T19:46:07.368Z] [info] [henry-a] Creating DM with randomguy-a at b2929e1ef89e8dd86b6a1a885fa379d189d69183b6a52b371acc901a388762e2

stdout | tests/dms.test.ts > ts_dms > sendGM: should measure sending a gm
[2025-03-12T19:46:08.375Z] [warn] Slow connection detected - total: 990.838ms, TLS: 617.564ms, processing: 373.274ms

stdout | tests/dms.test.ts > ts_dms > sendGM: should measure sending a gm
[2025-03-12T19:46:08.454Z] [warn] ts_dms > sendGM: should measure sending a gm 1.086s

stdout | tests/dms.test.ts > ts_dms > receiveGM: should measure receiving a gm
[2025-03-12T19:46:08.456Z] [info] [randomguy-a] Collecting 1 messages from convo:38057af7cdb394fb4d82c7c9b2d6c6ad
[2025-03-12T19:46:08.456Z] [info] Sending message #1: gm-1-fdftzdkwah7

stdout | tests/dms.test.ts > ts_dms > receiveGM: should measure receiving a gm
[2025-03-12T19:46:09.008Z] [info] All participants received the expected number of messages.

stdout | tests/dms.test.ts > ts_dms > receiveGM: should measure receiving a gm
[2025-03-12T19:46:09.010Z] [warn] ts_dms > receiveGM: should measure receiving a gm 554.273ms

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.012Z] [info] The tests indicated that the test ts_dms was success
[2025-03-12T19:46:09.012Z] [info] Successfully reported success to Datadog

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [henry-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [ivy-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [jack-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [karen-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [randomguy-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [larry-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [mary-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [nancy-a] Terminated stream

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:09.798Z] [warn] [oscar-a] Terminated stream

 ✓ tests/dms.test.ts (3 tests) 9223ms
   ✓ ts_dms > createDM: should measure creating a DM 2032ms
   ✓ ts_dms > sendGM: should measure sending a gm 1088ms
   ✓ ts_dms > receiveGM: should measure receiving a gm 557ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  16:45:59
   Duration  10.16s (transform 70ms, setup 0ms, collect 795ms, tests 9.22s, environment 0ms, prepare 33ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51772) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:12.278Z] [info] Using env keys for henry: 0xB5Ae0f84EAaEc701B76bD1c1651F452045309DE7
[2025-03-12T19:46:12.282Z] [info] Using env keys for ivy: 0x5BAB2D469798D4786Be788A0aDf08515A85f3241
[2025-03-12T19:46:12.286Z] [info] Using env keys for jack: 0x844A00c9D7765DAdAd3D18C74649E011A1C73EB3
[2025-03-12T19:46:12.287Z] [info] Using env keys for karen: 0x425F2dA024bDD213271863842fc28b28Cf079d72
[2025-03-12T19:46:12.288Z] [info] Generating new keys for randomguy
[2025-03-12T19:46:12.291Z] [info] Using env keys for larry: 0xE828198B27e68bf39767CEE26ada8a4C07cB5a44
[2025-03-12T19:46:12.293Z] [info] Using env keys for mary: 0x0Cb77A68091619b26d178673804AA9BD6b0f4772
[2025-03-12T19:46:12.294Z] [info] Using env keys for nancy: 0x105A4cF9d044a9304Ba85398BF79652C95bC7411
[2025-03-12T19:46:12.296Z] [info] Using env keys for oscar: 0xB5cBf33AfD939B2136a5C10a4Fe4b30272b4d507
[2025-03-12T19:46:12.297Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xb5ae0f84eaaec701b76bd1c1651f452045309de7-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0x5bab2d469798d4786be788a0adf08515a85f3241-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0x844a00c9d7765dadad3d18c74649e011a1c73eb3-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x425f2da024bdd213271863842fc28b28cf079d72-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xd647eaf621ebdcaafb46830ac6dbc82e4a0e25e4-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0xe828198b27e68bf39767cee26ada8a4c07cb5a44-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x0cb77a68091619b26d178673804aa9bd6b0f4772-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0x105a4cf9d044a9304ba85398bf79652c95bc7411-e8c52be-dev
[2025-03-12T19:46:12.298Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0xb5cbf33afd939b2136a5c10a4fe4b30272b4d507-e8c52be-dev

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:14.130Z] [error] [vitest] Test failed in undefined Error creating encrypted message store

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:14.131Z] [info] The tests indicated that the test ts_dms was failure
[2025-03-12T19:46:14.131Z] [info] Successfully reported failure to Datadog


 ❯ tests/dms.test.ts 1/3

 Test Files 0 passed (1)
      Tests 0 passed | 1 skipped (3)
   Start at 16:46:11
   Duration 2.63s
2025-03-12 16:46:14.246: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.246: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.246: sqlcipher_codec_ctx_set_error: ctx=0x12aea6100, error=1
2025-03-12 16:46:14.247: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.247: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.247: sqlcipher_codec_ctx_set_error: ctx=0x12aea6100, error=1
2025-03-12 16:46:14.299: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.299: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.299: sqlcipher_codec_ctx_set_error: ctx=0x15afc9850, error=1
2025-03-12 16:46:14.299: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.299: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.299: sqlcipher_codec_ctx_set_error: ctx=0x15afc9850, error=1
2025-03-12 16:46:14.324: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.324: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.324: sqlcipher_codec_ctx_set_error: ctx=0x15afd4ac0, error=1
2025-03-12 16:46:14.324: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.324: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.324: sqlcipher_codec_ctx_set_error: ctx=0x15afd4ac0, error=1
2025-03-12 16:46:14.392: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.392: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:14.392: sqlcipher_codec_ctx_set_error: ctx=0x15afe8270, error=1
2025-03-12 16:46:14.393: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:14.393: sqlite3Codec: error decrypting page 1 data: 1

 ❯ tests/dms.test.ts 3/3

 Test Files 0 passed (1)
      Tests 0 passed | 3 skipped (3)
   Start at 16:46:11
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:14.579Z] [warn] [karen-a] Create XMTP client v:e8c52be 2.281s

 ❯ tests/dms.test.ts (3 tests | 3 skipped) 2608ms
   ↓ ts_dms > createDM: should measure creating a DM
   ↓ ts_dms > sendGM: should measure sending a gm
   ↓ ts_dms > receiveGM: should measure receiving a gm

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/dms.test.ts > ts_dms
Error: Error creating encrypted message store
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  3 skipped (3)
   Start at  16:46:11
   Duration  3.40s (transform 66ms, setup 0ms, collect 664ms, tests 2.61s, environment 0ms, prepare 36ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51801) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:18.790Z] [info] Using env keys for henry: 0xB5Ae0f84EAaEc701B76bD1c1651F452045309DE7
[2025-03-12T19:46:18.794Z] [info] Using env keys for ivy: 0x5BAB2D469798D4786Be788A0aDf08515A85f3241
[2025-03-12T19:46:18.798Z] [info] Using env keys for jack: 0x844A00c9D7765DAdAd3D18C74649E011A1C73EB3
[2025-03-12T19:46:18.799Z] [info] Using env keys for karen: 0x425F2dA024bDD213271863842fc28b28Cf079d72
[2025-03-12T19:46:18.800Z] [info] Generating new keys for randomguy
[2025-03-12T19:46:18.803Z] [info] Using env keys for larry: 0xE828198B27e68bf39767CEE26ada8a4C07cB5a44
[2025-03-12T19:46:18.805Z] [info] Using env keys for mary: 0x0Cb77A68091619b26d178673804AA9BD6b0f4772
[2025-03-12T19:46:18.806Z] [info] Using env keys for nancy: 0x105A4cF9d044a9304Ba85398BF79652C95bC7411
[2025-03-12T19:46:18.808Z] [info] Using env keys for oscar: 0xB5cBf33AfD939B2136a5C10a4Fe4b30272b4d507
[2025-03-12T19:46:18.809Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xb5ae0f84eaaec701b76bd1c1651f452045309de7-e8c52be-dev
[2025-03-12T19:46:18.809Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0x5bab2d469798d4786be788a0adf08515a85f3241-e8c52be-dev
[2025-03-12T19:46:18.809Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0x844a00c9d7765dadad3d18c74649e011a1c73eb3-e8c52be-dev
[2025-03-12T19:46:18.810Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x425f2da024bdd213271863842fc28b28cf079d72-e8c52be-dev
[2025-03-12T19:46:18.810Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xcfb36a71ad6d78d0f2278bb1d90e4e6fad3ec799-e8c52be-dev
[2025-03-12T19:46:18.810Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0xe828198b27e68bf39767cee26ada8a4c07cb5a44-e8c52be-dev
[2025-03-12T19:46:18.810Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x0cb77a68091619b26d178673804aa9bd6b0f4772-e8c52be-dev
[2025-03-12T19:46:18.810Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0x105a4cf9d044a9304ba85398bf79652c95bc7411-e8c52be-dev
[2025-03-12T19:46:18.810Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0xb5cbf33afd939b2136a5c10a4fe4b30272b4d507-e8c52be-dev

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:20.538Z] [error] [vitest] Test failed in undefined Error creating encrypted message store

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:46:20.539Z] [info] The tests indicated that the test ts_dms was failure
[2025-03-12T19:46:20.539Z] [info] Successfully reported failure to Datadog


 ❯ tests/dms.test.ts 1/3

 Test Files 0 passed (1)
      Tests 0 passed | 1 skipped (3)
   Start at 16:46:17
   Duration 2.52s
2025-03-12 16:46:20.804: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:20.804: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:20.804: sqlcipher_codec_ctx_set_error: ctx=0x10bd66040, error=1
2025-03-12 16:46:20.805: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:20.805: sqlite3Codec: error decrypting page 1 data: 1

 ❯ tests/dms.test.ts 3/3

 Test Files 0 passed (1)
      Tests 0 passed | 3 skipped (3)
   Start at 16:46:17
   Duration 2.92s
2025-03-12 16:46:21.049: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:21.049: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:46:21.049: sqlcipher_codec_ctx_set_error: ctx=0x10bd61310, error=1
2025-03-12 16:46:21.049: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:46:21.049: sqlite3Codec: error decrypting page 1 data: 1
 ❯ tests/dms.test.ts (3 tests | 3 skipped) 2522ms
   ↓ ts_dms > createDM: should measure creating a DM
   ↓ ts_dms > sendGM: should measure sending a gm
   ↓ ts_dms > receiveGM: should measure receiving a gm
stdout | unknown test
[2025-03-12T19:46:21.286Z] [warn] [karen-a] Create XMTP client v:e8c52be 2.476s


⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/dms.test.ts > ts_dms
Error: Error creating encrypted message store
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  3 skipped (3)
   Start at  16:46:17
   Duration  3.34s (transform 74ms, setup 0ms, collect 678ms, tests 2.52s, environment 0ms, prepare 39ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51852) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:33.785Z] [info] Using env keys for henry: 0xB5Ae0f84EAaEc701B76bD1c1651F452045309DE7
[2025-03-12T19:47:33.790Z] [info] Using env keys for ivy: 0x5BAB2D469798D4786Be788A0aDf08515A85f3241
[2025-03-12T19:47:33.794Z] [info] Using env keys for jack: 0x844A00c9D7765DAdAd3D18C74649E011A1C73EB3
[2025-03-12T19:47:33.795Z] [info] Using env keys for karen: 0x425F2dA024bDD213271863842fc28b28Cf079d72
[2025-03-12T19:47:33.796Z] [info] Generating new keys for randomguy
[2025-03-12T19:47:33.799Z] [info] Using env keys for larry: 0xE828198B27e68bf39767CEE26ada8a4C07cB5a44
[2025-03-12T19:47:33.801Z] [info] Using env keys for mary: 0x0Cb77A68091619b26d178673804AA9BD6b0f4772
[2025-03-12T19:47:33.802Z] [info] Using env keys for nancy: 0x105A4cF9d044a9304Ba85398BF79652C95bC7411
[2025-03-12T19:47:33.804Z] [info] Using env keys for oscar: 0xB5cBf33AfD939B2136a5C10a4Fe4b30272b4d507
[2025-03-12T19:47:33.805Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xb5ae0f84eaaec701b76bd1c1651f452045309de7-e8c52be-dev
[2025-03-12T19:47:33.805Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0x5bab2d469798d4786be788a0adf08515a85f3241-e8c52be-dev
[2025-03-12T19:47:33.805Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0x844a00c9d7765dadad3d18c74649e011a1c73eb3-e8c52be-dev
[2025-03-12T19:47:33.805Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x425f2da024bdd213271863842fc28b28cf079d72-e8c52be-dev
[2025-03-12T19:47:33.805Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0x2ff467602f7e935385618ea0ee3698e9fcfc1f64-e8c52be-dev
[2025-03-12T19:47:33.805Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0xe828198b27e68bf39767cee26ada8a4c07cb5a44-e8c52be-dev
[2025-03-12T19:47:33.806Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x0cb77a68091619b26d178673804aa9bd6b0f4772-e8c52be-dev
[2025-03-12T19:47:33.806Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0x105a4cf9d044a9304ba85398bf79652c95bc7411-e8c52be-dev
[2025-03-12T19:47:33.806Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0xb5cbf33afd939b2136a5c10a4fe4b30272b4d507-e8c52be-dev


 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:47:32
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:35.767Z] [error] [vitest] Test failed in undefined Error creating encrypted message store

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:35.768Z] [info] The tests indicated that the test ts_dms was failure
[2025-03-12T19:47:35.768Z] [info] Successfully reported failure to Datadog


 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:47:32
   Duration 2.92s
2025-03-12 16:47:35.819: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:35.819: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:35.819: sqlcipher_codec_ctx_set_error: ctx=0x141785640, error=1
2025-03-12 16:47:35.819: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:35.819: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:35.819: sqlcipher_codec_ctx_set_error: ctx=0x141785640, error=1
2025-03-12 16:47:35.884: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:35.884: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:35.884: sqlcipher_codec_ctx_set_error: ctx=0x1422eeaf0, error=1
2025-03-12 16:47:35.884: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:35.884: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:35.884: sqlcipher_codec_ctx_set_error: ctx=0x1422eeaf0, error=1
2025-03-12 16:47:35.956: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:35.956: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:35.956: sqlcipher_codec_ctx_set_error: ctx=0x1417429e0, error=1
2025-03-12 16:47:35.956: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:35.956: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:35.956: sqlcipher_codec_ctx_set_error: ctx=0x1417429e0, error=1
2025-03-12 16:47:36.023: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:36.023: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:36.023: sqlcipher_codec_ctx_set_error: ctx=0x14216c920, error=1
2025-03-12 16:47:36.023: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:36.023: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:36.023: sqlcipher_codec_ctx_set_error: ctx=0x14216c920, error=1
2025-03-12 16:47:36.072: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:36.072: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:36.072: sqlcipher_codec_ctx_set_error: ctx=0x1422ee2e0, error=1
2025-03-12 16:47:36.072: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:36.072: sqlite3Codec: error decrypting page 1 data: 1
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:36.123Z] [warn] [karen-a] Create XMTP client v:e8c52be 2.318s

 ❯ tests/dms.test.ts (3 tests | 3 skipped) 2775ms
   ↓ ts_dms > createDM: should measure creating a DM
   ↓ ts_dms > sendGM: should measure sending a gm
   ↓ ts_dms > receiveGM: should measure receiving a gm

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/dms.test.ts > ts_dms
Error: Error creating encrypted message store
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  3 skipped (3)
   Start at  16:47:32
   Duration  3.77s (transform 74ms, setup 0ms, collect 862ms, tests 2.78s, environment 0ms, prepare 34ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51887) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:46.229Z] [info] Generating new keys for henry
[2025-03-12T19:47:46.265Z] [info] Generating new keys for ivy
[2025-03-12T19:47:46.269Z] [info] Generating new keys for jack
[2025-03-12T19:47:46.272Z] [info] Generating new keys for karen
[2025-03-12T19:47:46.273Z] [info] Generating new keys for randomguy
[2025-03-12T19:47:46.275Z] [info] Generating new keys for larry
[2025-03-12T19:47:46.277Z] [info] Generating new keys for mary
[2025-03-12T19:47:46.278Z] [info] Generating new keys for nancy
[2025-03-12T19:47:46.279Z] [info] Generating new keys for oscar
[2025-03-12T19:47:46.282Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev
[2025-03-12T19:47:46.282Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev
[2025-03-12T19:47:46.282Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev
[2025-03-12T19:47:46.282Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev
[2025-03-12T19:47:46.282Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xf6ee3cd13b9e1082ebe9928b8f119306167247d7-e8c52be-dev
[2025-03-12T19:47:46.282Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev
[2025-03-12T19:47:46.283Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev
[2025-03-12T19:47:46.283Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev
[2025-03-12T19:47:46.283Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:49.905Z] [warn] [ivy-a] Create XMTP client v:e8c52be 3.623s


 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:47:45
   Duration 5.04s
fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % yarn test dms

 RUN  v3.0.6 /Users/fabrizioguespe/DevRel/xmtp-qa-testing
      API started at http://localhost:51204/

(node:51916) ExperimentalWarning: Importing JSON modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:52.067Z] [info] Using env keys for henry: 0xA022577c0180eEbccEa91d32Bd4e76F10C785E71
[2025-03-12T19:47:52.072Z] [info] Using env keys for ivy: 0xfcF7401D07fe2B5995FC636E2B43f2718D52F44f
[2025-03-12T19:47:52.075Z] [info] Using env keys for jack: 0xA63bD53761C26f8ffC99188e9Fff1851413A5483
[2025-03-12T19:47:52.077Z] [info] Using env keys for karen: 0x7b9B3E1506e2E574F1eDB55A9F93cB1cF5dbe4bC
[2025-03-12T19:47:52.078Z] [info] Generating new keys for randomguy
[2025-03-12T19:47:52.081Z] [info] Using env keys for larry: 0x179ADcd66A48Bf7784A2bDeAbEa1f1FAFD11f1E5
[2025-03-12T19:47:52.082Z] [info] Using env keys for mary: 0x07c8A06273bFf10A148F659ff5b15C13b66103e3
[2025-03-12T19:47:52.083Z] [info] Using env keys for nancy: 0xae7Af9d394b6572f0d147ACDeaBE880AaE367E26
[2025-03-12T19:47:52.085Z] [info] Using env keys for oscar: 0x5dFD9DA929979247DEF832Eb2cFc9187dba7dFc2
[2025-03-12T19:47:52.086Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev
[2025-03-12T19:47:52.086Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev
[2025-03-12T19:47:52.086Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev
[2025-03-12T19:47:52.086Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev
[2025-03-12T19:47:52.087Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xedfc8c911fe59efba6bcfd827627687065f147c1-e8c52be-dev
[2025-03-12T19:47:52.088Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev
[2025-03-12T19:47:52.088Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev
[2025-03-12T19:47:52.088Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev
[2025-03-12T19:47:52.088Z] [info] /Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev


 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:47:51
   Duration 909ms
2025-03-12T19:47:53.225085Z DEBUG h2::client: binding client connection
2025-03-12T19:47:53.225134Z DEBUG h2::client: client connection bound
2025-03-12T19:47:53.225138Z DEBUG h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.225182Z  INFO get_inbox_ids{account_identifiers=[ApiIdentifier { identifier: "0xae7af9d394b6572f0d147acdeabe880aae367e26", identifier_kind: Ethereum }] len=1}: xmtp_api::identity: Getting inbox_ids for account identities: [ApiIdentifier { identifier: "0xae7af9d394b6572f0d147acdeabe880aae367e26", identifier_kind: Ethereum }]
2025-03-12T19:47:53.225190Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }

 ❯ tests/dms.test.ts 0/3

 Test Files 0 passed (1)
      Tests 0 passed (3)
   Start at 16:47:51
   Duration 1.92s
2025-03-12T19:47:53.269967Z DEBUG h2::client: binding client connection
2025-03-12T19:47:53.270022Z DEBUG h2::client: client connection bound
2025-03-12T19:47:53.270026Z DEBUG h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.270072Z  INFO get_inbox_ids{account_identifiers=[ApiIdentifier { identifier: "0x5dfd9da929979247def832eb2cfc9187dba7dfc2", identifier_kind: Ethereum }] len=1}: xmtp_api::identity: Getting inbox_ids for account identities: [ApiIdentifier { identifier: "0x5dfd9da929979247def832eb2cfc9187dba7dfc2", identifier_kind: Ethereum }]
2025-03-12T19:47:53.270079Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:53.270093Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.270097Z DEBUG get_inbox_ids{account_identifiers=[ApiIdentifier { identifier: "0x5dfd9da929979247def832eb2cfc9187dba7dfc2", identifier_kind: Ethereum }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-12T19:47:53.270099Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:53.270262Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.270285Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.270289Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
2025-03-12T19:47:53.281785Z DEBUG h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.281808Z DEBUG h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.281811Z DEBUG h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.281814Z DEBUG h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.281817Z DEBUG h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.281832Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.281843Z DEBUG h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.281849Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.281974Z DEBUG h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.281978Z DEBUG h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.310712Z DEBUG h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.310732Z DEBUG h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.310736Z DEBUG h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.310740Z DEBUG h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.310742Z DEBUG h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.310754Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.310761Z DEBUG h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.310768Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.311024Z DEBUG h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.311038Z DEBUG h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.320516Z DEBUG h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.320533Z DEBUG h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.320536Z DEBUG h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.320540Z DEBUG h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.320543Z DEBUG h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.320564Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.320578Z DEBUG h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.320585Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.320717Z DEBUG h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.320722Z DEBUG h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.331962Z DEBUG h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.331985Z DEBUG h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.331989Z DEBUG h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.331992Z DEBUG h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.331995Z DEBUG h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.332006Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.332013Z DEBUG h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.332019Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.332191Z DEBUG h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.332197Z DEBUG h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.358182Z DEBUG h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.358201Z DEBUG h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.358204Z DEBUG h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.358213Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.358221Z DEBUG h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.358227Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.358325Z DEBUG h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.358332Z DEBUG h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.358337Z DEBUG h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.358339Z DEBUG h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.358341Z DEBUG h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.358351Z DEBUG h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.358354Z DEBUG h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.362458Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.362476Z DEBUG h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.362481Z DEBUG h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.362550Z DEBUG h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.362554Z DEBUG h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.365603Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.365853Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.435532Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.435846Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.501263Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.501510Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.555335Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.555626Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.604397Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.604672Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.644975Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.644996Z DEBUG Connection{peer=Client}: h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.645000Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.645003Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.645006Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.654511Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.654540Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.654579Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.654700Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.654705Z DEBUG Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.657761Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.657993Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.674355Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.674371Z DEBUG Connection{peer=Client}: h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.674375Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:53.674378Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.674381Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:53.674392Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:53.674399Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:53.674435Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:53.674563Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:53.674570Z DEBUG Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:53.705211Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.705437Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.805233Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.805487Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.864318Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-12T19:47:53.864565Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-12T19:47:53.933095Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:53.933138Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:53.933142Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.933178Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:53.933187Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:53.933241Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev] exists? [true]
2025-03-12T19:47:53.933475Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/karen/a/0x7b9b3e1506e2e574f1edb55a9f93cb1cf5dbe4bc-e8c52be-dev
2025-03-12T19:47:53.936376Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x
stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:53.937Z] [error] [vitest] Test failed in undefined Error creating encrypted message store

stdout | tests/dms.test.ts > ts_dms
[2025-03-12T19:47:53.938Z] [info] The tests indicated that the test ts_dms was failure
[2025-03-12T19:47:53.938Z] [info] Successfully reported failure to Datadog


 ❯ tests/dms.test.ts 1/3

 Test Files 0 passed (1)
      Tests 0 passed | 1 skipped (3)
   Start at 16:47:51
   Duration 2.63s
2025-03-12T19:47:53.992806Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:53.992900Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:53.992920Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:53.992951Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:53.992961Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:53.992969Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:53.992974Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:53.992995Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xedfc8c911fe59efba6bcfd827627687065f147c1-e8c52be-dev] exists? [false]
2025-03-12T19:47:53.993270Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: migrating sqlcipher db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xedfc8c911fe59efba6bcfd827627687065f147c1-e8c52be-dev] to plaintext header with salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xedfc8c911fe59efba6bcfd827627687065f147c1-e8c52be-dev.sqlcipher_salt]
2025-03-12T19:47:53.993720Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: writing salt to file salt="0c504f476e6b6e365bef31fee524e087" file=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/randomguy/a/0xedfc8c911fe59efba6bcfd827627687065f147c1-e8c52be-dev.sqlcipher_salt
2025-03-12T19:47:53.996043Z  INFO new:new_database:init_db: xmtp_mls::storage::encrypted_store::sqlcipher_connection: Sqlite cipher_version=Some("4.5.7 community"), cipher_provider_version="OpenSSL 3.4.0 22 Oct 2024"
2025-03-12T19:47:53.996061Z DEBUG new:new_database:init_db: xmtp_mls::storage::encrypted_store::sqlcipher_connection: SQLCipher Database validated.
2025-03-12T19:47:53.996555Z  INFO new:new_database:init_db: xmtp_mls::storage::encrypted_store::private: Running DB migrations
2025-03-12T19:47:54.007258Z  INFO new:new_database:init_db: xmtp_mls::storage::encrypted_store::private: sqlite_version=3.45.3
2025-03-12T19:47:54.007270Z  INFO new:new_database:init_db: xmtp_mls::storage::encrypted_store::private: Migrations successful
2025-03-12T19:47:54.007330Z  INFO xmtp_mls::identity: Initializing identity
2025-03-12T19:47:54.007623Z DEBUG xmtp_mls::identity: identity in store: None
2025-03-12T19:47:54.007633Z  INFO get_inbox_ids{account_identifiers=[ApiIdentifier { identifier: "0xedfc8c911fe59efba6bcfd827627687065f147c1", identifier_kind: Ethereum }] len=1}: xmtp_api::identity: Getting inbox_ids for account identities: [ApiIdentifier { identifier: "0xedfc8c911fe59efba6bcfd827627687065f147c1", identifier_kind: Ethereum }]
2025-03-12T19:47:54.007654Z DEBUG get_inbox_ids{account_identifiers=[ApiIdentifier { identifier: "0xedfc8c911fe59efba6bcfd827627687065f147c1", identifier_kind: Ethereum }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-12T19:47:54.007698Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:54.007713Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:54.007716Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
2025-03-12T19:47:54.078127Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.078167Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.078171Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.078197Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.078206Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.078214Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.078218Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.078239Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.078395Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/larry/a/0x179adcd66a48bf7784a2bdeabea1f1fafd11f1e5-e8c52be-dev
2025-03-12 16:47:54.079: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.079: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.079: sqlcipher_codec_ctx_set_error: ctx=0x14c0d14b0, error=1
2025-03-12 16:47:54.080: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.080: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.080: sqlcipher_codec_ctx_set_error: ctx=0x14c0d14b0, error=1
2025-03-12T19:47:54.081575Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:54.081587Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:54.120979Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.121020Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.121024Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.121051Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.121057Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.121065Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.121069Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.121092Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.121237Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/henry/a/0xa022577c0180eebccea91d32bd4e76f10c785e71-e8c52be-dev
2025-03-12 16:47:54.122: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.122: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.122: sqlcipher_codec_ctx_set_error: ctx=0x14c0a0b10, error=1
2025-03-12 16:47:54.122: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.122: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.122: sqlcipher_codec_ctx_set_error: ctx=0x14c0a0b10, error=1
2025-03-12T19:47:54.123710Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:54.123716Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:54.182373Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.182391Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.182443Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.182478Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.182482Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.182504Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.182508Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.182513Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.182516Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.182543Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.182690Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/ivy/a/0xfcf7401d07fe2b5995fc636e2b43f2718d52f44f-e8c52be-dev
2025-03-12 16:47:54.184: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.184: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.184: sqlcipher_codec_ctx_set_error: ctx=0x14c064200, error=1
2025-03-12 16:47:54.184: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.184: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.184: sqlcipher_codec_ctx_set_error: ctx=0x14c064200, error=1
2025-03-12T19:47:54.185813Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:54.185825Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:54.206307Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.206350Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.206353Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.206379Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.206390Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.206396Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.206420Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.206451Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.206592Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/jack/a/0xa63bd53761c26f8ffc99188e9fff1851413a5483-e8c52be-dev
2025-03-12 16:47:54.208: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.208: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.208: sqlcipher_codec_ctx_set_error: ctx=0x14c089560, error=1

 ❯ tests/dms.test.ts 3/3

 Test Files 0 passed (1)
      Tests 0 passed | 3 skipped (3)
   Start at 16:47:51
   Duration 2.93s
2025-03-12T19:47:54.270860Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.270993Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.271071Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.271550Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.271690Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.271673Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.272609Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/mary/a/0x07c8a06273bff10a148f659ff5b15c13b66103e3-e8c52be-dev
2025-03-12T19:47:54.275626Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.275654Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12 16:47:54.280: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.280: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.280: sqlcipher_codec_ctx_set_error: ctx=0x11d818ee0, error=1
2025-03-12 16:47:54.281: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.281: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.281: sqlcipher_codec_ctx_set_error: ctx=0x11d818ee0, error=1
2025-03-12T19:47:54.285749Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:54.285767Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:54.372692Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 53 }
2025-03-12T19:47:54.372712Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:54.372715Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T19:47:54.372725Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:54.372733Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-12T19:47:54.372789Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T19:47:54.372996Z  INFO xmtp_id::associations::builder: adding verified signature signer=74d860fa0d13e781e6b7a22869f9937d2c7ccee82dc9bc1957d65f9216bdb659 missing_signatures=[Address("0xedfc8c911fe59efba6bcfd827627687065f147c1"), Address("0xedfc8c911fe59efba6bcfd827627687065f147c1"), Installation("74d860fa0d13e781e6b7a22869f9937d2c7ccee82dc9bc1957d65f9216bdb659")]
2025-03-12T19:47:54.373007Z DEBUG xmtp_mls::builder: Initialized identity inbox_id="49237c8e258b7c1c91ade338576fdf4ae5325a5241ec4338dc0a132ed176ec04" installation_id="74d860fa0d13e781e6b7a22869f9937d2c7ccee82dc9bc1957d65f9216bdb659"
2025-03-12T19:47:54.373013Z DEBUG xmtp_mls::identity_updates: Fetching identity updates for: ["49237c8e258b7c1c91ade338576fdf4ae5325a5241ec4338dc0a132ed176ec04"]
2025-03-12T19:47:54.373137Z DEBUG get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "49237c8e258b7c1c91ade338576fdf4ae5325a5241ec4338dc0a132ed176ec04", sequence_id: None }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-12T19:47:54.373168Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
2025-03-12T19:47:54.373182Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(3) }
2025-03-12T19:47:54.373185Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(3), flags: (0x1: END_STREAM) }
2025-03-12T19:47:54.380668Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.380709Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.380713Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.380735Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.380747Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.380753Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.380757Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.380776Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.380987Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/nancy/a/0xae7af9d394b6572f0d147acdeabe880aae367e26-e8c52be-dev
2025-03-12 16:47:54.382: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.382: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.382: sqlcipher_codec_ctx_set_error: ctx=0x11ddacdf0, error=1
2025-03-12 16:47:54.382: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.382: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.382: sqlcipher_codec_ctx_set_error: ctx=0x11ddacdf0, error=1
2025-03-12T19:47:54.384431Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) }
2025-03-12T19:47:54.384443Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=GoAway(b"", NO_ERROR, Library)
2025-03-12T19:47:54.443759Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-12T19:47:54.443808Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-12T19:47:54.443812Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-12T19:47:54.443840Z  INFO new:new_database: xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-12T19:47:54.443856Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-12T19:47:54.443862Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-12T19:47:54.443866Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-12T19:47:54.443882Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev] exists? [true]
2025-03-12T19:47:54.444030Z DEBUG new:new_database: xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-testing/.data/oscar/a/0x5dfd9da929979247def832eb2cfc9187dba7dfc2-e8c52be-dev
2025-03-12 16:47:54.445: sqlcipher_page_cipher: hmac check failed for pgno=1 returning SQLITE_ERROR
2025-03-12 16:47:54.445: sqlite3Codec: error decrypting page 1 data: 1
2025-03-12 16:47:54.445: sqlcipher_codec_ctx_set_error: ctx=0x14c0586a0, error=1
 ❯ tests/dms.test.ts (3 tests | 3 skipped) 2631ms
   ↓ ts_dms > createDM: should measure creating a DM
   ↓ ts_dms > sendGM: should measure sending a gm
   ↓ ts_dms > receiveGM: should measure receiving a gm


⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/dms.test.ts > ts_dms
Error: Error creating encrypted message store
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  3 skipped (3)
   Start at  16:47:51
   Duration  3.44s (transform 67ms, setup 0ms, collect 682ms, tests 2.63s, environment 0ms, prepare 34ms)

fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % 