2025-03-12T23:24:20.793251Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0xd85e...f190 at 417183
2025-03-12T23:24:20.793259Z DEBUG stream_all_messages: xmtp_api::mls: subscribing to group messages inbox_id="fd8c13fa96d825a24fee5a366761d5373409fddc96224c326490c431c9de65dd"
2025-03-12T23:24:20.793275Z DEBUG stream_all_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:20.793304Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.793317Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(11) }
2025-03-12T23:24:20.793322Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(11), flags: (0x1: END_STREAM) }
2025-03-12T23:24:20.907343Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 135 }
2025-03-12T23:24:20.907439Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:20.907457Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:20.907536Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.985869Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 75 }
2025-03-12T23:24:20.985965Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:20.985981Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:20.986065Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(51), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.986104Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(51) }
2025-03-12T23:24:20.986127Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(51), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.986144Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(45), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.986176Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(45) }
2025-03-12T23:24:20.986189Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(45), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.986440Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(39), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.986467Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(39) }
2025-03-12T23:24:20.986479Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(39), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.986557Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(47), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.986611Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(37), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.986629Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(47) }
2025-03-12T23:24:20.986648Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(37) }
2025-03-12T23:24:20.986660Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(37), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.986814Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(47), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.986850Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(49), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.986865Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(49) }
2025-03-12T23:24:20.986877Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(49), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.986919Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(41), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.987033Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(41) }
2025-03-12T23:24:20.987049Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(41), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.987062Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(43), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.987073Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(43) }
2025-03-12T23:24:20.987084Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(43), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:20.987305Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x27ec...ae75 at 416983
2025-03-12T23:24:20.987324Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0xf766...fb75 at 416172
2025-03-12T23:24:20.987333Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x8205...8ed8 at 416682
2025-03-12T23:24:20.987344Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x8867...4ffc at 416310
2025-03-12T23:24:20.987353Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x67b5...39f0 at 416912
2025-03-12T23:24:20.987361Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x0b5a...f48c at 417119
2025-03-12T23:24:20.987369Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x8273...3a44 at 417167
2025-03-12T23:24:20.987376Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0xc5c3...559a at 417186
2025-03-12T23:24:20.987414Z DEBUG stream_all_messages: xmtp_api::mls: subscribing to group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:20.987480Z DEBUG stream_all_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:20.987604Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(53), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:20.987652Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(53) }
2025-03-12T23:24:20.987668Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(53), flags: (0x1: END_STREAM) }
2025-03-12T23:24:21.162235Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 400 }
2025-03-12T23:24:21.162334Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:21.162353Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:21.162470Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(53), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:21.196300Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 29 }
2025-03-12T23:24:21.196336Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:21.196344Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:21.196362Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:42.176888Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(53) }
2025-03-12T23:24:42.177013Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(33) }
2025-03-12T23:24:42.177674Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417187] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187
2025-03-12T23:24:42.177808Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417187] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187
2025-03-12T23:24:42.178725Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-12T23:24:42.178803Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417187] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187
2025-03-12T23:24:42.179475Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187 epoch=1
2025-03-12T23:24:42.179659Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash cfbcc51eabbc0e3433718dace9f6bce8f9b1d124d32ae68fb4ea546b3de1fe37, id = 417187 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.179746Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417187] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.179715Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] in process_stream_entry() inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187 epoch=1
2025-03-12T23:24:42.180008Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash cfbcc51eabbc0e3433718dace9f6bce8f9b1d124d32ae68fb4ea546b3de1fe37, id = 417187 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.180018Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] is about to process external envelope [417187] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.180357Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187 epoch=1
2025-03-12T23:24:42.180411Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:42.180491Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash cfbcc51eabbc0e3433718dace9f6bce8f9b1d124d32ae68fb4ea546b3de1fe37, id = 417187 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.180501Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417187] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.180806Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:42.180883Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:42.181143Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:42.181168Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.181207Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:42.181220Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processing message in transaction epoch = 1, cursor = 417187 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417187
2025-03-12T23:24:42.181351Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.181362Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:42.181366Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 1, cursor = 417187 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417187
2025-03-12T23:24:42.181416Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] decoding application message inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.181534Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] decoding application message inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.182669Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:42.182669Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:42.183067Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417187]
2025-03-12T23:24:42.183138Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processed stream envelope [417187]
2025-03-12T23:24:42.183284Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:42.183398Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:42.183497Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417187
2025-03-12T23:24:42.183505Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:42.183508Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 1, cursor = 417187 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417187
2025-03-12T23:24:42.183692Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:42.183719Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(ProcessIntent(AlreadyProcessed(417187))):processing group message in stream: [417187] already processed
2025-03-12T23:24:42.183724Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message [417187] already processed
2025-03-12T23:24:42.183850Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xc5c3...559a in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187 epoch=1
2025-03-12T23:24:42.184081Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417187) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417187 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:42.184111Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417187) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:42.184174Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(55), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:42.184191Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(55) }
2025-03-12T23:24:42.184196Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(55), flags: (0x1: END_STREAM) }
2025-03-12T23:24:42.371137Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 33 }
2025-03-12T23:24:42.371230Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:42.371250Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:42.371315Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(55), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:42.371363Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(55) }
2025-03-12T23:24:42.371389Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(55), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:42.372848Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 1 for group = c5c322510b6bab723f9f88904ddf559a inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417187
2025-03-12T23:24:42.373560Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417187]
[2025-03-12T23:24:42.374Z] [info] Received message: Hi by c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc
[2025-03-12T23:24:42.377Z] [info] Waiting for messages...
2025-03-12T23:24:46.658981Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(53) }
2025-03-12T23:24:46.659084Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(33) }
2025-03-12T23:24:46.659240Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417188] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188
2025-03-12T23:24:46.659726Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417188] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188
2025-03-12T23:24:46.660373Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188 epoch=1
2025-03-12T23:24:46.660545Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash d3c377480c332f0d9cc69f8c5eb545b2933d9cbca0ce41e627a9344bf3faeaf0, id = 417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.660953Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417188] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.660895Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-12T23:24:46.661180Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417188] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188
2025-03-12T23:24:46.661818Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188 epoch=1
2025-03-12T23:24:46.662046Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash d3c377480c332f0d9cc69f8c5eb545b2933d9cbca0ce41e627a9344bf3faeaf0, id = 417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.662064Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417188] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.662224Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] in process_stream_entry() inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188 epoch=1
2025-03-12T23:24:46.662533Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash d3c377480c332f0d9cc69f8c5eb545b2933d9cbca0ce41e627a9344bf3faeaf0, id = 417188 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.662550Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] is about to process external envelope [417188] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.662805Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:46.663295Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:46.663435Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:46.663822Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:46.663971Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.664237Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:46.664248Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 1, cursor = 417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417188
2025-03-12T23:24:46.664213Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.666381Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] decoding application message inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.666766Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:46.666781Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processing message in transaction epoch = 1, cursor = 417188 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417188
2025-03-12T23:24:46.666974Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] decoding application message inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.667695Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:46.667701Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:46.667797Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processed stream envelope [417188]
2025-03-12T23:24:46.667807Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417188]
2025-03-12T23:24:46.668033Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:46.668135Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:46.668234Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417188
2025-03-12T23:24:46.668240Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:46.668242Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 1, cursor = 417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417188
2025-03-12T23:24:46.668393Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:46.668410Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(ProcessIntent(AlreadyProcessed(417188))):processing group message in stream: [417188] already processed
2025-03-12T23:24:46.668417Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message [417188] already processed
2025-03-12T23:24:46.668539Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xc5c3...559a in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188 epoch=1
2025-03-12T23:24:46.668763Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:46.668796Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:46.668861Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(57), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:46.668879Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(57) }
2025-03-12T23:24:46.668883Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(57), flags: (0x1: END_STREAM) }
2025-03-12T23:24:46.848459Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 33 }
2025-03-12T23:24:46.848559Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:46.848577Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:46.848620Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(57), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:46.848657Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(57) }
2025-03-12T23:24:46.848754Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(57), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:46.850208Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 1 for group = c5c322510b6bab723f9f88904ddf559a inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417188
2025-03-12T23:24:46.850553Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417188]
[2025-03-12T23:24:46.851Z] [info] Received message: Gm by c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc
2025-03-12T23:24:46.853987Z DEBUG send_message:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", "6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf", "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc"]
2025-03-12T23:24:46.854114Z DEBUG send_message:load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", sequence_id: Some(75922) }, GetIdentityUpdatesV2Filter { inbox_id: "6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf", sequence_id: Some(75918) }, GetIdentityUpdatesV2Filter { inbox_id: "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc", sequence_id: Some(75904) }] len=3}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:46.854175Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(59), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:46.854189Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(59) }
2025-03-12T23:24:46.854192Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(59), flags: (0x1: END_STREAM) }
2025-03-12T23:24:47.267011Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 221 }
2025-03-12T23:24:47.267107Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:47.267143Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:47.267201Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(59), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.267295Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(59) }
2025-03-12T23:24:47.267321Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(59), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:47.267980Z  INFO send_message:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf": 75918}, failed_installations: [] }. New GroupMembership { members: {"c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf": 75918}, failed_installations: [] }
2025-03-12T23:24:47.269428Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:47.269904Z DEBUG send_message: xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=KeyUpdate
2025-03-12T23:24:47.269964Z DEBUG send_message: xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=SendMessage
2025-03-12T23:24:47.270544Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:47.275807Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [46] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=46 intent.kind=KeyUpdate group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:47.275899Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:47.275938Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:47.275983Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(61), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.275998Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(61) }
2025-03-12T23:24:47.276052Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(61), flags: (0x1: END_STREAM) }
2025-03-12T23:24:47.628081Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 796 }
2025-03-12T23:24:47.628182Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:47.628201Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:47.723344Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(61), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.723388Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(61) }
2025-03-12T23:24:47.723400Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(61), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:47.723410Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(53) }
2025-03-12T23:24:47.723423Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(33) }
2025-03-12T23:24:47.723493Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417189] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189
2025-03-12T23:24:47.723660Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417189] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189
2025-03-12T23:24:47.723577Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [46] of type [KeyUpdate] intent.id=46 intent.kind=KeyUpdate inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:47.723947Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: Commit sent. Stopping further publishes for this round
2025-03-12T23:24:47.724085Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:47.724249Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:47.724379Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(63), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.724402Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(63) }
2025-03-12T23:24:47.724409Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(63), flags: (0x1: END_STREAM) }
2025-03-12T23:24:47.724870Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189 epoch=1
2025-03-12T23:24:47.724893Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:24:47.724900Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:24:47.725275Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-12T23:24:47.725293Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189 epoch=1
2025-03-12T23:24:47.725308Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:24:47.725312Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:24:47.725318Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417189] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189
2025-03-12T23:24:47.725587Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xc5c3...559a in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189 epoch=1
2025-03-12T23:24:47.725876Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xc5c3...559a in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189 epoch=1
2025-03-12T23:24:47.726009Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] in process_stream_entry() inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189 epoch=1
2025-03-12T23:24:47.726207Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:24:47.726212Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:24:47.726620Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xc5c3...559a in epoch 1 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189 epoch=1
2025-03-12T23:24:47.727261Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417188 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf"
2025-03-12T23:24:47.727381Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:47.727442Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.727455Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-12T23:24:47.727459Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-12T23:24:47.728030Z DEBUG process:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [47] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=47 intent.kind=SendMessage group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:47.728871Z DEBUG process:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:47.728948Z DEBUG process:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:47.729130Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(65), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.729143Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(65) }
2025-03-12T23:24:47.729179Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(65), flags: (0x1: END_STREAM) }
2025-03-12T23:24:47.908666Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 33 }
2025-03-12T23:24:47.908769Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:47.908786Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:47.908849Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:47.909013Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(19) }
2025-03-12T23:24:47.909039Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:47.909830Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 8bf9f975b2e392ac9f8aec6270334a8ff7071056481394434e8c6aea0697b630, id = 417189 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:47.909871Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] is about to process external envelope [417189] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:47.911007Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:47.912477Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:47.912868Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] extracted sender inbox id: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 sender_inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:47.913004Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf": 75918, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922}, failed_installations: [] }. New GroupMembership { members: {"6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf": 75918, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922}, failed_installations: [] }
2025-03-12T23:24:47.913221Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:24:47.913235Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:47.913241Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processing message in transaction epoch = 1, cursor = 417189 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 cursor=417189
2025-03-12T23:24:47.913802Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] received staged commit. Merging and clearing any pending commits inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" sender_inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 sender_installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:47.913809Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] staged commit is valid, will attempt to merge inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" sender_inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 sender_installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=1 msg_epoch=1 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:47.913992Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] externally processed message [417189] advanced epoch from [1] to [2]
2025-03-12T23:24:47.914823Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:47.914877Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor[417189]
2025-03-12T23:24:47.915203Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = c5c322510b6bab723f9f88904ddf559a inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189
2025-03-12T23:24:47.915232Z  WARN process: xmtp_mls::subscriptions::stream_messages: group message not found cursor_id=417189 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:47.915238Z  WARN xmtp_mls::subscriptions::stream_messages: skipping message streaming payload
2025-03-12T23:24:48.029968Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 33 }
2025-03-12T23:24:48.029989Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:48.029993Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:48.030001Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(63), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.030008Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(63) }
2025-03-12T23:24:48.030066Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(63), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:48.030274Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 8bf9f975b2e392ac9f8aec6270334a8ff7071056481394434e8c6aea0697b630, id = 417189 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:48.030284Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417189] for intent [46] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189 intent_id=46 intent.kind=KeyUpdate
2025-03-12T23:24:48.068641Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(65), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.068662Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(65) }
2025-03-12T23:24:48.068667Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(65), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:48.068669Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(33) }
2025-03-12T23:24:48.068671Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(53) }
2025-03-12T23:24:48.068709Z  INFO process:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [47] of type [SendMessage] intent.id=47 intent.kind=SendMessage inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:48.068822Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-12T23:24:48.068853Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417190] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417190
2025-03-12T23:24:48.068871Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:48.068889Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:48.068944Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(67), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.068967Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(67) }
2025-03-12T23:24:48.068971Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(67), flags: (0x1: END_STREAM) }
2025-03-12T23:24:48.069155Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] in process_stream_entry() inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417190 epoch=2
2025-03-12T23:24:48.069205Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417188 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:48.069217Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417188) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:48.069218Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash 05b5c9b54f38a034401324c1e818fe93ad42e8b67b14d616bd4d8e24f7f7fcb0, id = 417190 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.069226Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] is about to process external envelope [417190] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.069238Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(69), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.069273Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(69) }
2025-03-12T23:24:48.069276Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(69), flags: (0x1: END_STREAM) }
2025-03-12T23:24:48.069392Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.069450Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] Validating commit for intent 46. Message timestamp: 1741821887640877000
2025-03-12T23:24:48.069489Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf": 75918, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922}, failed_installations: [] }. New GroupMembership { members: {"6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf": 75918, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904}, failed_installations: [] }
2025-03-12T23:24:48.069507Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:48.069632Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:24:48.069644Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.069651Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] extracted sender inbox id: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 sender_inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=2 msg_epoch=2 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.069657Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.069660Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processing message in transaction epoch = 2, cursor = 417190 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=2 msg_epoch=2 cursor=417190
2025-03-12T23:24:48.069676Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[c5c322510b6bab723f9f88904ddf559a] processing own message for intent 46 / KeyUpdate, message_epoch: 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189 intent.id=46 intent.kind=KeyUpdate
2025-03-12T23:24:48.069753Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] merging pending commit for intent 46
2025-03-12T23:24:48.069822Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] decoding application message inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" sender_inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="c5c322510b6bab723f9f88904ddf559a" current_epoch=2 msg_epoch=2 msg_group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.070533Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:48.070548Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor[417189]
2025-03-12T23:24:48.070549Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:48.070617Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] processed stream envelope [417190]
2025-03-12T23:24:48.070917Z  WARN send_message:sync_until_last_intent_resolved:sync_until_intent_resolved: xmtp_mls::groups::mls_sync: retrying intent ID 47. intent currently in state Published
2025-03-12T23:24:48.071174Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417189) group_id="c5c322510b6bab723f9f88904ddf559a"}: xmtp_api::mls: query group messages group_id="c5c322510b6bab723f9f88904ddf559a" id_cursor=417189 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:48.071189Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417189) group_id="c5c322510b6bab723f9f88904ddf559a"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:48.071216Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(71), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.071225Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(71) }
2025-03-12T23:24:48.071227Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(71), flags: (0x1: END_STREAM) }
2025-03-12T23:24:48.436439Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 297 }
2025-03-12T23:24:48.436555Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:48.436599Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:48.436675Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(67), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.436722Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(67) }
2025-03-12T23:24:48.436815Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(67), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:48.436837Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(71), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.436865Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(71) }
2025-03-12T23:24:48.436877Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(71), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:48.436890Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(69), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.437222Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(69) }
2025-03-12T23:24:48.437242Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(69), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:48.437707Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 8bf9f975b2e392ac9f8aec6270334a8ff7071056481394434e8c6aea0697b630, id = 417189 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:48.437741Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417189] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:48.438148Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 05b5c9b54f38a034401324c1e818fe93ad42e8b67b14d616bd4d8e24f7f7fcb0, id = 417190 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.438181Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417190] for intent [47] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190 intent_id=47 intent.kind=SendMessage
2025-03-12T23:24:48.438032Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 8bf9f975b2e392ac9f8aec6270334a8ff7071056481394434e8c6aea0697b630, id = 417189 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:48.438467Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417189] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417189
2025-03-12T23:24:48.438869Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.438898Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:48.438946Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor [417189] error:[openmls process message error: Message epoch differs from the group's epoch.]
2025-03-12T23:24:48.438965Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. OpenMlsProcessMessage(ValidationError(WrongEpoch)):openmls process message error: Message epoch differs from the group's epoch.
2025-03-12T23:24:48.439107Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 05b5c9b54f38a034401324c1e818fe93ad42e8b67b14d616bd4d8e24f7f7fcb0, id = 417190 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.439119Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417190] for intent [47] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190 intent_id=47 intent.kind=SendMessage
2025-03-12T23:24:48.439684Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.440024Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[c5c322510b6bab723f9f88904ddf559a] processing own message for intent 47 / SendMessage, message_epoch: 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190 intent.id=47 intent.kind=SendMessage
2025-03-12T23:24:48.441296Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:48.441324Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor[417190]
2025-03-12T23:24:48.441942Z  INFO xmtp_mls::groups::device_sync: Outgoing preference update [ConsentUpdate(StoredConsentRecord { entity_type: ConversationId, state: Allowed, entity: "c5c322510b6bab723f9f88904ddf559a" })]
[2025-03-12T23:24:48.442Z] [info] Waiting for messages...
2025-03-12T23:24:48.442367Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.442380Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:48.442395Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor [417189] error:[openmls process message error: Message epoch differs from the group's epoch.]
2025-03-12T23:24:48.442400Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. OpenMlsProcessMessage(ValidationError(WrongEpoch)):openmls process message error: Message epoch differs from the group's epoch.
2025-03-12T23:24:48.442454Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 05b5c9b54f38a034401324c1e818fe93ad42e8b67b14d616bd4d8e24f7f7fcb0, id = 417190 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.442462Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417190] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="c5c322510b6bab723f9f88904ddf559a" cursor=417190
2025-03-12T23:24:48.442652Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(416982) group_id="859cf7f94fe7e67a34d4c47b35df5af6"}: xmtp_api::mls: query group messages group_id="859cf7f94fe7e67a34d4c47b35df5af6" id_cursor=416982 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:48.442681Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(416982) group_id="859cf7f94fe7e67a34d4c47b35df5af6"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:48.442725Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.442729Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(73), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.442742Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(73) }
2025-03-12T23:24:48.442746Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(73), flags: (0x1: END_STREAM) }
2025-03-12T23:24:48.442751Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:48.442947Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor [417190] error:[[417190] already processed]
2025-03-12T23:24:48.442955Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. ProcessIntent(AlreadyProcessed(417190)):[417190] already processed
2025-03-12T23:24:48.442960Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch)), ProcessIntent(AlreadyProcessed(417190))] group_id="c5c322510b6bab723f9f88904ddf559a" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:24:48.443021Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch)), ProcessIntent(AlreadyProcessed(417190))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch)), ProcessIntent(AlreadyProcessed(417190))]
2025-03-12T23:24:48.443179Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.443209Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:24:48.443219Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [c5c322510b6bab723f9f88904ddf559a] envelope cursor [417190] error:[openmls process message error: Cannot create decryption secrets from own sender ratchet or encryption secrets from the sender ratchets of other members.]
2025-03-12T23:24:48.443223Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. OpenMlsProcessMessage(ValidationError(UnableToDecrypt(SecretTreeError(RatchetTypeError)))):openmls process message error: Cannot create decryption secrets from own sender ratchet or encryption secrets from the sender ratchets of other members.
2025-03-12T23:24:48.443227Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch)), OpenMlsProcessMessage(ValidationError(UnableToDecrypt(SecretTreeError(RatchetTypeError))))] group_id="c5c322510b6bab723f9f88904ddf559a" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:24:48.443248Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch)), OpenMlsProcessMessage(ValidationError(UnableToDecrypt(SecretTreeError(RatchetTypeError))))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch)), OpenMlsProcessMessage(ValidationError(UnableToDecrypt(SecretTreeError(RatchetTypeError))))]
2025-03-12T23:24:48.443383Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = c5c322510b6bab723f9f88904ddf559a inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189
2025-03-12T23:24:48.443407Z  WARN process: xmtp_mls::subscriptions::stream_messages: group message not found cursor_id=417189 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:48.443411Z  WARN xmtp_mls::subscriptions::stream_messages: skipping message streaming payload
2025-03-12T23:24:48.443442Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417190] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417190
2025-03-12T23:24:48.443516Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417190]
2025-03-12T23:24:48.443577Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = c5c322510b6bab723f9f88904ddf559a inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417189
2025-03-12T23:24:48.443643Z  WARN process: xmtp_mls::subscriptions::stream_messages: group message not found cursor_id=417189 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a"
2025-03-12T23:24:48.443651Z  WARN xmtp_mls::subscriptions::stream_messages: skipping message streaming payload
2025-03-12T23:24:48.443672Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0xc5c3...559a cursor_id=[417190] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="c5c322510b6bab723f9f88904ddf559a" cursor_id=417190
2025-03-12T23:24:48.443703Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417190]
2025-03-12T23:24:48.795270Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 99 }
2025-03-12T23:24:48.795393Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:48.795410Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:48.802770Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(73), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.802856Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(73) }
2025-03-12T23:24:48.802879Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(73), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:48.803504Z  INFO sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 3d1cb0e9109130a98461c5c849ab8d45542927991471091682fa7f10f6c29487, id = 417118 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6" cursor=417118
2025-03-12T23:24:48.803870Z  INFO sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417118] for intent [35] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6" cursor=417118 intent_id=35 intent.kind=SendMessage
2025-03-12T23:24:48.804492Z DEBUG sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.804658Z DEBUG sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[859cf7f94fe7e67a34d4c47b35df5af6] processing own message for intent 35 / SendMessage, message_epoch: 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6" cursor=417118 intent.id=35 intent.kind=SendMessage
2025-03-12T23:24:48.805144Z DEBUG sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:48.805173Z  INFO sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [859cf7f94fe7e67a34d4c47b35df5af6] envelope cursor[417118]
2025-03-12T23:24:48.805718Z DEBUG xmtp_mls::groups: No queryable content fields, msg not formatted as encoded content
2025-03-12T23:24:48.805725Z DEBUG xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:24:48.805793Z DEBUG xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=SendMessage
2025-03-12T23:24:48.805961Z DEBUG xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:24:48.807075Z DEBUG publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [48] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=48 intent.kind=SendMessage group_id="859cf7f94fe7e67a34d4c47b35df5af6"
2025-03-12T23:24:48.807143Z DEBUG publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:24:48.807170Z DEBUG publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:24:48.807205Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(75), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:48.807217Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(75) }
2025-03-12T23:24:48.807263Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(75), flags: (0x1: END_STREAM) }
2025-03-12T23:24:49.187006Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 273 }
2025-03-12T23:24:49.187059Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:49.187496Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:24:49.234861Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(75), flags: (0x4: END_HEADERS) }
2025-03-12T23:24:49.234948Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(75) }
2025-03-12T23:24:49.234999Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(75), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:24:49.235138Z  INFO publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [48] of type [SendMessage] intent.id=48 intent.kind=SendMessage inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6"
2025-03-12T23:25:19.508976Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(7) }
2025-03-12T23:25:19.509307Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="c1746d998d3b8a472b726c2f66659ded400118378fdbd30d1655f3ee0d749867" welcome_id=4906952
2025-03-12T23:25:19.509454Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.509484Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.514393Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.514445Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.515167Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.515207Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.515223Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.515273Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.515292Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.515296Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.515300Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.516349Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:25:19.516482Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group is inserted
2025-03-12T23:25:19.517170Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:25:19.517408Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 274f5a25bc8822db697a3c8f662eee46 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.517418Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=274f5a25bc8822db697a3c8f662eee46 inbox_id="7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9" installation_id=c1746d998d3b8a472b726c2f66659ded400118378fdbd30d1655f3ee0d749867 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.517671Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9"
2025-03-12T23:25:19.517705Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.517769Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.517787Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(17) }
2025-03-12T23:25:19.517791Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(17), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.519105Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(35) }
2025-03-12T23:25:19.519118Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:25:19.519148Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" welcome_id=4906953
2025-03-12T23:25:19.519148Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" welcome_id=4906953
2025-03-12T23:25:19.519216Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.519220Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.519229Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.519986Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.520017Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.520024Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.520262Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.520302Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.520316Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.520347Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.520358Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.520362Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.520913Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.520939Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.520947Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.521074Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.521088Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.521118Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.521128Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.521136Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.521138Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.521868Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:25:19.521918Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group is inserted
2025-03-12T23:25:19.522260Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:25:19.522270Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.522441Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 274f5a25bc8822db697a3c8f662eee46 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.522446Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=274f5a25bc8822db697a3c8f662eee46 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.522975Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.523006Z  INFO process: xmtp_mls::subscriptions::stream_conversations: error is not retryable. ProcessIntent(AlreadyProcessed(4906953)):[4906953] already processed
2025-03-12T23:25:19.523009Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Processing welcome failed, trying to load existing..
2025-03-12T23:25:19.523106Z  INFO process: xmtp_mls::subscriptions::stream_conversations: loading existing group for welcome_id: Some(4906953) inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="274f5a25bc8822db697a3c8f662eee46" welcome_id=Some(4906953)
2025-03-12T23:25:19.523140Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:25:19.523158Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.523190Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(77), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.523200Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(77) }
2025-03-12T23:25:19.523203Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(77), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.523296Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 274f5a25bc8822db697a3c8f662eee46 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.523301Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=274f5a25bc8822db697a3c8f662eee46 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.523327Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:25:19.523335Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.523351Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(79), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.523358Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(79) }
2025-03-12T23:25:19.523360Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(79), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.528716Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(9) }
2025-03-12T23:25:19.528758Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9" welcome_id=4906954
2025-03-12T23:25:19.528814Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.528821Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.529573Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.529609Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.529729Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.529747Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.529759Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.529780Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.529793Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.529795Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.529798Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.530549Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:25:19.530594Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group is inserted
2025-03-12T23:25:19.530900Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:25:19.531134Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 274f5a25bc8822db697a3c8f662eee46 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.531140Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=274f5a25bc8822db697a3c8f662eee46 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" installation_id=3bfc349499869a94736cc3aa8cb29262f878ca59ef95fa3afb8230f3cd18cbb9 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.531307Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf"
2025-03-12T23:25:19.531327Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.531370Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.531382Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-12T23:25:19.531385Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.706520Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 99 }
2025-03-12T23:25:19.706620Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:25:19.706638Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:25:19.706763Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.707141Z DEBUG xmtp_mls::subscriptions::stream_messages: added group_id=274f5a25bc8822db697a3c8f662eee46 at cursor=1 to messages stream
2025-03-12T23:25:19.707210Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(17), error_code: CANCEL }
2025-03-12T23:25:19.707508Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 99 }
2025-03-12T23:25:19.707532Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:25:19.707543Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:25:19.707560Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.707580Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-12T23:25:19.707811Z DEBUG xmtp_mls::subscriptions::stream_messages: added group_id=274f5a25bc8822db697a3c8f662eee46 at cursor=1 to messages stream
2025-03-12T23:25:19.708068Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9]  is about to process streamed envelope for group 0x274f...ee46 cursor_id=[417193] inbox_id="7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193
2025-03-12T23:25:19.709651Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9] in process_stream_entry() inbox_id="7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193 epoch=1
2025-03-12T23:25:19.709706Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:25:19.709722Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:25:19.710691Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x274f...ee46 in epoch 1 inbox_id="7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193 epoch=1
2025-03-12T23:25:19.711692Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="274f5a25bc8822db697a3c8f662eee46"}: xmtp_api::mls: query group messages group_id="274f5a25bc8822db697a3c8f662eee46" id_cursor=0 inbox_id="7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9"
2025-03-12T23:25:19.713462Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="274f5a25bc8822db697a3c8f662eee46"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.713477Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(15), error_code: CANCEL }
2025-03-12T23:25:19.713594Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.713610Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-12T23:25:19.713615Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.714286Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 219 }
2025-03-12T23:25:19.714294Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:25:19.714296Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:25:19.714302Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(77), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.714329Z DEBUG xmtp_mls::subscriptions::stream_messages: added group_id=274f5a25bc8822db697a3c8f662eee46 at cursor=1 to messages stream
2025-03-12T23:25:19.714337Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(53), error_code: CANCEL }
2025-03-12T23:25:19.715213Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-12T23:25:19.715253Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf]  is about to process streamed envelope for group 0x274f...ee46 cursor_id=[417193] inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193
2025-03-12T23:25:19.715535Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf] in process_stream_entry() inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193 epoch=1
2025-03-12T23:25:19.715545Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:25:19.715548Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:25:19.715634Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x274f...ee46 in epoch 1 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193 epoch=1
2025-03-12T23:25:19.715787Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="274f5a25bc8822db697a3c8f662eee46"}: xmtp_api::mls: query group messages group_id="274f5a25bc8822db697a3c8f662eee46" id_cursor=0 inbox_id="6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf"
2025-03-12T23:25:19.715806Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="274f5a25bc8822db697a3c8f662eee46"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.715836Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.715846Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23) }
2025-03-12T23:25:19.715848Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.716313Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(77) }
2025-03-12T23:25:19.716345Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x274f...ee46 cursor_id=[417193] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193
2025-03-12T23:25:19.716554Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=1 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193 epoch=1
2025-03-12T23:25:19.716563Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:25:19.716565Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:25:19.716652Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x274f...ee46 in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="274f5a25bc8822db697a3c8f662eee46" cursor_id=417193 epoch=1
2025-03-12T23:25:19.716790Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="274f5a25bc8822db697a3c8f662eee46"}: xmtp_api::mls: query group messages group_id="274f5a25bc8822db697a3c8f662eee46" id_cursor=0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:25:19.716803Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="274f5a25bc8822db697a3c8f662eee46"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:25:19.716821Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(81), flags: (0x4: END_HEADERS) }
2025-03-12T23:25:19.716828Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(81) }
2025-03-12T23:25:19.716831Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(81), flags: (0x1: END_STREAM) }
2025-03-12T23:25:19.846674Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(7) }
2025-03-12T23:25:19.847062Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="c1746d998d3b8a472b726c2f66659ded400118378fdbd30d1655f3ee0d749867" welcome_id=4906955
2025-03-12T23:25:19.849203Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.849228Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.851500Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.851571Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.851807Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.851842Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.851856Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.851869Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.851884Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.851887Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.852007Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.853107Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:25:19.853182Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group already exists
2025-03-12T23:25:19.854052Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:25:19.854338Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 274f5a25bc8822db697a3c8f662eee46 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.854350Z DEBUG xmtp_mls::subscriptions::stream_messages: group 274f5a25bc8822db697a3c8f662eee46 already in stream
2025-03-12T23:25:19.861343Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(35) }
2025-03-12T23:25:19.861362Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:25:19.861445Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" welcome_id=4906956
2025-03-12T23:25:19.861451Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f" welcome_id=4906956
2025-03-12T23:25:19.861537Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.861546Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.861546Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.862285Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.862306Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.862338Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.862426Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.862457Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.862469Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.862479Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.862489Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.862492Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.863226Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.863255Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:25:19.863267Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.863379Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:25:19.863394Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:25:19.863404Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 7e9c7dc17ccd1680aecfb237e3db0b744a3928c51ce8b571a4b3d79959c031e9 75920
2025-03-12T23:25:19.863439Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 6382a1499a5ca55ca05f57600e5ed64a4f2ff95adfe141f847e6ee1b12251abf 75918
2025-03-12T23:25:19.863449Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:25:19.863452Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:25:19.864061Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:25:19.864104Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group already exists
2025-03-12T23:25:19.864408Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:25:19.864459Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:25:19.864658Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 274f5a25bc8822db697a3c8f662eee46 group_id="274f5a25bc8822db697a3c8f662eee46"
2025-03-12T23:25:19.864664Z DEBUG xmtp_mls::subscriptions::stream_messages: group 274f5a25bc8822db697a3c8f662eee46 already in stream
2025-03-12T23:25:19.865316Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:25:19.865347Z  INFO process: xmtp_mls::subscriptions::stream_conversations: error is not retryable. ProcessIntent(AlreadyProcessed(4906956)):[4906956] already processed
2025-03-12T23:25:19.865350Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Processing welcome failed, trying to load existing..
fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % 