2025-03-12T23:13:13.086597Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(93) }
2025-03-12T23:13:13.086623Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(93), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:13.086641Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(91), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:13.086670Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(91) }
2025-03-12T23:13:13.086683Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(91), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:13.088004Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 1c8408994d984fc51f1acaa740ba64d2c2a167a4effd320d434d21a2c695d2b4, id = 417088 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417088
2025-03-12T23:13:13.088050Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417088] for intent [32] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417088 intent_id=32 intent.kind=SendMessage
2025-03-12T23:13:13.089358Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:13.089485Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:13.089537Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [827357175ddccc0536445c8201043a44] envelope cursor [417088] error:[[417088] already processed]
2025-03-12T23:13:13.089556Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. ProcessIntent(AlreadyProcessed(417088)):[417088] already processed
2025-03-12T23:13:13.089571Z ERROR send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [ProcessIntent(AlreadyProcessed(417088))] group_id="827357175ddccc0536445c8201043a44" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:13:13.089590Z ERROR send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([ProcessIntent(AlreadyProcessed(417088))]) error=Receive errors: [ProcessIntent(AlreadyProcessed(417088))]
2025-03-12T23:13:13.090700Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = 827357175ddccc0536445c8201043a44 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417088
[2025-03-12T23:13:13.090Z] [info] Waiting for messages...
2025-03-12T23:13:13.090842Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417088]
2025-03-12T23:13:25.008907Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(43) }
2025-03-12T23:13:25.009011Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-12T23:13:25.009172Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417092] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417092
2025-03-12T23:13:25.009630Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417092] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417092
2025-03-12T23:13:25.010513Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417092 epoch=2
2025-03-12T23:13:25.010661Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash 61b6797f72ba41cbea1004dd474156f76f8bc1ef0e7c8026a89120c3364c9533, id = 417092 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.010687Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417092] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.011366Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417092 epoch=2
2025-03-12T23:13:25.011442Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash 61b6797f72ba41cbea1004dd474156f76f8bc1ef0e7c8026a89120c3364c9533, id = 417092 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.011453Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417092] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.011786Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:25.012360Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:25.012758Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 msg_group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.012776Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:25.012841Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 2, cursor = 417092 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 cursor=417092
2025-03-12T23:13:25.013187Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] decoding application message inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 msg_group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.014147Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:25.014276Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417092]
2025-03-12T23:13:25.014455Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:25.014633Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:25.014768Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 msg_group_id="827357175ddccc0536445c8201043a44" cursor=417092
2025-03-12T23:13:25.014987Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:25.015016Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 2, cursor = 417092 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 cursor=417092
2025-03-12T23:13:25.015562Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:25.015619Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(ProcessIntent(AlreadyProcessed(417092))):processing group message in stream: [417092] already processed
2025-03-12T23:13:25.015628Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message [417092] already processed
2025-03-12T23:13:25.016444Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x8273...3a44 in epoch 2 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417092 epoch=2
2025-03-12T23:13:25.016940Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417092) group_id="827357175ddccc0536445c8201043a44"}: xmtp_api::mls: query group messages group_id="827357175ddccc0536445c8201043a44" id_cursor=417092 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:25.016994Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417092) group_id="827357175ddccc0536445c8201043a44"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:25.017078Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(95), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:25.017107Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(95) }
2025-03-12T23:13:25.017119Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(95), flags: (0x1: END_STREAM) }
[2025-03-12T23:13:25.018Z] [info] [bot-a] Generating OpenAI response for message: Hi bot
2025-03-12T23:13:25.200660Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 66 }
2025-03-12T23:13:25.200759Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:25.200776Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:25.205048Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(95), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:25.205127Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(95) }
2025-03-12T23:13:25.205326Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(95), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:25.207638Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = 827357175ddccc0536445c8201043a44 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417092
2025-03-12T23:13:25.207816Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417092]
[2025-03-12T23:13:25.210Z] [info] Received message: Hi bot by c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc
[2025-03-12T23:13:25.211Z] [info] Waiting for messages...
[2025-03-12T23:13:26.145Z] [info] [bot-a] GPT Agent: Response: "bot:
Hey there! How's it going?"
2025-03-12T23:13:26.145509Z DEBUG send_message:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc"]
2025-03-12T23:13:26.145632Z DEBUG send_message:load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", sequence_id: Some(75922) }, GetIdentityUpdatesV2Filter { inbox_id: "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc", sequence_id: Some(75904) }] len=2}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:26.145681Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(97), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:26.145694Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(97) }
2025-03-12T23:13:26.145697Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(97), flags: (0x1: END_STREAM) }
2025-03-12T23:13:26.330726Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 149 }
2025-03-12T23:13:26.330816Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:26.330831Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:26.330885Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(97), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:26.330928Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(97) }
2025-03-12T23:13:26.330982Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(97), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:26.331730Z  INFO send_message:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904}, failed_installations: [] }. New GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904}, failed_installations: [] }
2025-03-12T23:13:26.333749Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:26.333952Z DEBUG send_message: xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=SendMessage
2025-03-12T23:13:26.334721Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:26.336595Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [33] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=33 intent.kind=SendMessage group_id="827357175ddccc0536445c8201043a44"
2025-03-12T23:13:26.336681Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:26.336726Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:26.336790Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(99), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:26.336810Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(99) }
2025-03-12T23:13:26.336851Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(99), flags: (0x1: END_STREAM) }
2025-03-12T23:13:26.725619Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 293 }
2025-03-12T23:13:26.725719Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:26.725738Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:26.735171Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(99), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:26.735226Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(99) }
2025-03-12T23:13:26.735246Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(99), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:26.735256Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(43) }
2025-03-12T23:13:26.735282Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-12T23:13:26.735396Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417099] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417099
2025-03-12T23:13:26.736042Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [33] of type [SendMessage] intent.id=33 intent.kind=SendMessage inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44"
2025-03-12T23:13:26.736559Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417099] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417099
2025-03-12T23:13:26.736817Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417092) group_id="827357175ddccc0536445c8201043a44"}: xmtp_api::mls: query group messages group_id="827357175ddccc0536445c8201043a44" id_cursor=417092 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:26.736882Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417092) group_id="827357175ddccc0536445c8201043a44"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:26.736973Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(101), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:26.737008Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(101) }
2025-03-12T23:13:26.737016Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(101), flags: (0x1: END_STREAM) }
2025-03-12T23:13:26.737218Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417099 epoch=2
2025-03-12T23:13:26.737353Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash dfaa951c4e880aaaad25932f82953697ed290b43cdb32a09385251a3807808c6, id = 417099 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099
2025-03-12T23:13:26.737369Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417099] for intent [33] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099 intent_id=33 intent.kind=SendMessage
2025-03-12T23:13:26.737780Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417099 epoch=2
2025-03-12T23:13:26.737882Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash dfaa951c4e880aaaad25932f82953697ed290b43cdb32a09385251a3807808c6, id = 417099 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099
2025-03-12T23:13:26.737894Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417099] for intent [33] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099 intent_id=33 intent.kind=SendMessage
2025-03-12T23:13:26.738138Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:26.738217Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[827357175ddccc0536445c8201043a44] processing own message for intent 33 / SendMessage, message_epoch: 2 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099 intent.id=33 intent.kind=SendMessage
2025-03-12T23:13:26.739178Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:26.739378Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417099]
2025-03-12T23:13:26.739483Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:26.739511Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:26.739527Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(ProcessIntent(AlreadyProcessed(417099))):processing group message in stream: [417099] already processed
2025-03-12T23:13:26.739534Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message [417099] already processed
2025-03-12T23:13:26.739630Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x8273...3a44 in epoch 2 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417099 epoch=2
2025-03-12T23:13:26.739867Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417099) group_id="827357175ddccc0536445c8201043a44"}: xmtp_api::mls: query group messages group_id="827357175ddccc0536445c8201043a44" id_cursor=417099 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:26.739904Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417099) group_id="827357175ddccc0536445c8201043a44"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:26.739944Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(103), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:26.739959Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(103) }
2025-03-12T23:13:26.739963Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(103), flags: (0x1: END_STREAM) }
2025-03-12T23:13:27.123692Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 33 }
2025-03-12T23:13:27.123790Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:27.123808Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:27.123851Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(103), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:27.123887Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(103) }
2025-03-12T23:13:27.123967Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(103), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:27.123989Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(101), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:27.124018Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(101) }
2025-03-12T23:13:27.124031Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(101), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:27.124990Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash dfaa951c4e880aaaad25932f82953697ed290b43cdb32a09385251a3807808c6, id = 417099 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099
2025-03-12T23:13:27.125255Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417099] for intent [33] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417099 intent_id=33 intent.kind=SendMessage
2025-03-12T23:13:27.126506Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:27.126616Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:27.126666Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [827357175ddccc0536445c8201043a44] envelope cursor [417099] error:[[417099] already processed]
2025-03-12T23:13:27.126686Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. ProcessIntent(AlreadyProcessed(417099)):[417099] already processed
2025-03-12T23:13:27.126700Z ERROR send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [ProcessIntent(AlreadyProcessed(417099))] group_id="827357175ddccc0536445c8201043a44" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:13:27.126719Z ERROR send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([ProcessIntent(AlreadyProcessed(417099))]) error=Receive errors: [ProcessIntent(AlreadyProcessed(417099))]
2025-03-12T23:13:27.127660Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = 827357175ddccc0536445c8201043a44 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417099
2025-03-12T23:13:27.127789Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417099]
2025-03-12T23:13:46.434764Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(43) }
2025-03-12T23:13:46.434851Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-12T23:13:46.434963Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417116] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417116
2025-03-12T23:13:46.435121Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417116] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417116
2025-03-12T23:13:46.435954Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417116 epoch=2
2025-03-12T23:13:46.436071Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash b0724e737beb616e7f4f7680489f61e9ce1364257b2ee96cfa8c043f6965567f, id = 417116 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.436089Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417116] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.436416Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417116 epoch=2
2025-03-12T23:13:46.436473Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash b0724e737beb616e7f4f7680489f61e9ce1364257b2ee96cfa8c043f6965567f, id = 417116 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.436482Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process external envelope [417116] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.436757Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:46.437340Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:46.437688Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 msg_group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.437705Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:46.437715Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 2, cursor = 417116 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 cursor=417116
2025-03-12T23:13:46.438315Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] decoding application message inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 msg_group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.439172Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:46.439284Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417116]
2025-03-12T23:13:46.439524Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:46.439744Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
[2025-03-12T23:13:46.439Z] [info] Received message: /create 3 by c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc
2025-03-12T23:13:46.439928Z  INFO process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] extracted sender inbox id: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f sender_inbox_id="c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" sender_installation_id="0c15e89753f755e86aef2e927efef2bb59ebb83217f0c0a7c549ccadbeda3dc6" group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 msg_group_id="827357175ddccc0536445c8201043a44" cursor=417116
2025-03-12T23:13:46.439941Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:46.439944Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processing message in transaction epoch = 2, cursor = 417116 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" current_epoch=2 msg_epoch=2 cursor=417116
2025-03-12T23:13:46.440236Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:46.440265Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(ProcessIntent(AlreadyProcessed(417116))):processing group message in stream: [417116] already processed
2025-03-12T23:13:46.440271Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message [417116] already processed
2025-03-12T23:13:46.440590Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x8273...3a44 in epoch 2 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417116 epoch=2
2025-03-12T23:13:46.440798Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417116) group_id="827357175ddccc0536445c8201043a44"}: xmtp_api::mls: query group messages group_id="827357175ddccc0536445c8201043a44" id_cursor=417116 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:46.440831Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417116) group_id="827357175ddccc0536445c8201043a44"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:46.440886Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(105), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:46.440903Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(105) }
2025-03-12T23:13:46.440908Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(105), flags: (0x1: END_STREAM) }
[2025-03-12T23:13:46.440Z] [info] Creating group with 3 random personas...
2025-03-12T23:13:46.441290Z DEBUG send_message:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc", "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"]
2025-03-12T23:13:46.441367Z DEBUG send_message:load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc", sequence_id: Some(75904) }, GetIdentityUpdatesV2Filter { inbox_id: "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", sequence_id: Some(75922) }] len=2}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:46.441390Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(107), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:46.441397Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(107) }
2025-03-12T23:13:46.441400Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(107), flags: (0x1: END_STREAM) }
2025-03-12T23:13:46.625511Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 66 }
2025-03-12T23:13:46.625601Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:46.625612Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:46.648918Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(105), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:46.648970Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(105) }
2025-03-12T23:13:46.648983Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(105), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:46.829390Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(107), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:46.829503Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(107) }
2025-03-12T23:13:46.829554Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(107), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:46.830189Z  INFO send_message:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904}, failed_installations: [] }. New GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904}, failed_installations: [] }
2025-03-12T23:13:46.831638Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:46.831857Z DEBUG send_message: xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=SendMessage
2025-03-12T23:13:46.832201Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:46.833890Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = 827357175ddccc0536445c8201043a44 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417116
2025-03-12T23:13:46.834003Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417116]
2025-03-12T23:13:46.834794Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [34] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=34 intent.kind=SendMessage group_id="827357175ddccc0536445c8201043a44"
2025-03-12T23:13:46.834861Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:46.834893Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:46.834948Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(109), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:46.834963Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(109) }
2025-03-12T23:13:46.835024Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(109), flags: (0x1: END_STREAM) }
2025-03-12T23:13:47.015988Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 463 }
2025-03-12T23:13:47.016083Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:47.016102Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:47.053631Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(109), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.053704Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(109) }
2025-03-12T23:13:47.053717Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(109), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:47.053804Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(43) }
2025-03-12T23:13:47.053819Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-12T23:13:47.054225Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417117] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417117
2025-03-12T23:13:47.054633Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x8273...3a44 cursor_id=[417117] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417117
2025-03-12T23:13:47.054134Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [34] of type [SendMessage] intent.id=34 intent.kind=SendMessage inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44"
2025-03-12T23:13:47.054947Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417116) group_id="827357175ddccc0536445c8201043a44"}: xmtp_api::mls: query group messages group_id="827357175ddccc0536445c8201043a44" id_cursor=417116 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:47.054994Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(417116) group_id="827357175ddccc0536445c8201043a44"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:47.055114Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(111), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.055142Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(111) }
2025-03-12T23:13:47.055221Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(111), flags: (0x1: END_STREAM) }
2025-03-12T23:13:47.056815Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417117 epoch=2
2025-03-12T23:13:47.056958Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash 48ca44201d454a22c89537d6be4b5fe3a1671ee2b4c5ef991b3cd6b98a352c26, id = 417117 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117
2025-03-12T23:13:47.056971Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417117] for intent [34] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117 intent_id=34 intent.kind=SendMessage
2025-03-12T23:13:47.057486Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417117 epoch=2
2025-03-12T23:13:47.057592Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: Processing envelope with hash 48ca44201d454a22c89537d6be4b5fe3a1671ee2b4c5ef991b3cd6b98a352c26, id = 417117 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117
2025-03-12T23:13:47.057602Z  INFO process:process_message{allow_epoch_increment=false}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417117] for intent [34] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117 intent_id=34 intent.kind=SendMessage
2025-03-12T23:13:47.057933Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:47.058016Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[827357175ddccc0536445c8201043a44] processing own message for intent 34 / SendMessage, message_epoch: 2 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117 intent.id=34 intent.kind=SendMessage
2025-03-12T23:13:47.058991Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:47.059103Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417117]
2025-03-12T23:13:47.059478Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:47.059514Z DEBUG process:process_message{allow_epoch_increment=false}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:47.059533Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(ProcessIntent(AlreadyProcessed(417117))):processing group message in stream: [417117] already processed
2025-03-12T23:13:47.059536Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message [417117] already processed
2025-03-12T23:13:47.059635Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x8273...3a44 in epoch 2 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417117 epoch=2
2025-03-12T23:13:47.059820Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417117) group_id="827357175ddccc0536445c8201043a44"}: xmtp_api::mls: query group messages group_id="827357175ddccc0536445c8201043a44" id_cursor=417117 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:47.059850Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(417117) group_id="827357175ddccc0536445c8201043a44"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:47.059882Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(113), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.059893Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(113) }
2025-03-12T23:13:47.059895Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(113), flags: (0x1: END_STREAM) }
2025-03-12T23:13:47.453373Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 33 }
2025-03-12T23:13:47.453395Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:47.453399Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:47.453407Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(111), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.453414Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(111) }
2025-03-12T23:13:47.453525Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(111), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:47.453530Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(113), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.453537Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(113) }
2025-03-12T23:13:47.453539Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(113), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:47.453866Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 48ca44201d454a22c89537d6be4b5fe3a1671ee2b4c5ef991b3cd6b98a352c26, id = 417117 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117
2025-03-12T23:13:47.453880Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417117] for intent [34] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="827357175ddccc0536445c8201043a44" cursor=417117 intent_id=34 intent.kind=SendMessage
2025-03-12T23:13:47.454250Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:47.454415Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:47.454450Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [827357175ddccc0536445c8201043a44] envelope cursor [417117] error:[[417117] already processed]
2025-03-12T23:13:47.454458Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. ProcessIntent(AlreadyProcessed(417117)):[417117] already processed
2025-03-12T23:13:47.454467Z ERROR send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [ProcessIntent(AlreadyProcessed(417117))] group_id="827357175ddccc0536445c8201043a44" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:13:47.454477Z ERROR send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([ProcessIntent(AlreadyProcessed(417117))]) error=Receive errors: [ProcessIntent(AlreadyProcessed(417117))]
2025-03-12T23:13:47.454944Z  INFO xmtp_mls::client: creating group
2025-03-12T23:13:47.454950Z  INFO xmtp_mls::client: creating group
2025-03-12T23:13:47.455030Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = 827357175ddccc0536445c8201043a44 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="827357175ddccc0536445c8201043a44" cursor_id=417117
2025-03-12T23:13:47.455100Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] processed stream envelope [417117]
2025-03-12T23:13:47.457138Z  INFO xmtp_mls::groups::device_sync: Outgoing preference update [ConsentUpdate(StoredConsentRecord { entity_type: ConversationId, state: Allowed, entity: "0b5abd46a84bd70f157a06edb975f48c" })]
2025-03-12T23:13:47.457158Z DEBUG process: xmtp_mls::subscriptions::stream_conversations: Stream conversations got existing group, pulling from db.
2025-03-12T23:13:47.457347Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455", "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d", "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc", "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"]
2025-03-12T23:13:47.457443Z DEBUG load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", sequence_id: Some(75922) }, GetIdentityUpdatesV2Filter { inbox_id: "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455", sequence_id: Some(75917) }, GetIdentityUpdatesV2Filter { inbox_id: "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", sequence_id: Some(75922) }, GetIdentityUpdatesV2Filter { inbox_id: "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d", sequence_id: Some(75911) }, GetIdentityUpdatesV2Filter { inbox_id: "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc", sequence_id: Some(75904) }, GetIdentityUpdatesV2Filter { inbox_id: "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e", sequence_id: Some(75922) }] len=6}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:47.457451Z DEBUG process: xmtp_mls::subscriptions::stream_conversations: Stream conversations got existing group, pulling from db.
2025-03-12T23:13:47.457482Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(115), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.457493Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(115) }
2025-03-12T23:13:47.457538Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(115), flags: (0x1: END_STREAM) }
2025-03-12T23:13:47.457934Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(416911) group_id="859cf7f94fe7e67a34d4c47b35df5af6"}: xmtp_api::mls: query group messages group_id="859cf7f94fe7e67a34d4c47b35df5af6" id_cursor=416911 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:47.457947Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(416911) group_id="859cf7f94fe7e67a34d4c47b35df5af6"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:47.457968Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(117), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.457974Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(117) }
2025-03-12T23:13:47.457976Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(117), flags: (0x1: END_STREAM) }
2025-03-12T23:13:47.802855Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 470 }
2025-03-12T23:13:47.802954Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:47.802972Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:47.803037Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(117), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.803088Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(117) }
2025-03-12T23:13:47.803134Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(117), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:47.803156Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(115), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.803283Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(115) }
2025-03-12T23:13:47.803302Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(115), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:47.805422Z  INFO sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash f6790e3882e1ddb25850934a110fb07b6706eea764ec4ae8c03446240b1ec10d, id = 416982 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6" cursor=416982
2025-03-12T23:13:47.805623Z  INFO sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [416982] for intent [26] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6" cursor=416982 intent_id=26 intent.kind=SendMessage
2025-03-12T23:13:47.806331Z  INFO load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 0}, failed_installations: [] }. New GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455": 75917, "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d": 75911}, failed_installations: [] }
2025-03-12T23:13:47.806589Z DEBUG sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:47.806647Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" from None to Some(75904)
2025-03-12T23:13:47.806716Z DEBUG sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[859cf7f94fe7e67a34d4c47b35df5af6] processing own message for intent 26 / SendMessage, message_epoch: 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6" cursor=416982 intent.id=26 intent.kind=SendMessage
2025-03-12T23:13:47.807002Z DEBUG load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:47.807027Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455" from None to Some(75917)
2025-03-12T23:13:47.807118Z DEBUG load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:47.807128Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d" from None to Some(75911)
2025-03-12T23:13:47.807188Z DEBUG load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:47.807259Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" from None to Some(75922)
2025-03-12T23:13:47.807296Z DEBUG load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:47.807319Z DEBUG load_mls_group_with_lock_async:fetch_key_packages: xmtp_api::mls: fetch key packages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:47.807379Z DEBUG load_mls_group_with_lock_async:fetch_key_packages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:47.808701Z DEBUG sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:47.808743Z  INFO sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [859cf7f94fe7e67a34d4c47b35df5af6] envelope cursor[416982]
2025-03-12T23:13:47.809199Z DEBUG xmtp_mls::groups: No queryable content fields, msg not formatted as encoded content
2025-03-12T23:13:47.809209Z DEBUG xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:47.809276Z DEBUG xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=SendMessage
2025-03-12T23:13:47.809528Z DEBUG xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:47.810465Z DEBUG publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [35] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=35 intent.kind=SendMessage group_id="859cf7f94fe7e67a34d4c47b35df5af6"
2025-03-12T23:13:47.810955Z DEBUG publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:47.810987Z DEBUG publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:47.811008Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(119), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.811036Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(119) }
2025-03-12T23:13:47.811040Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(119), flags: (0x1: END_STREAM) }
2025-03-12T23:13:47.811113Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(121), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:47.811121Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(121) }
2025-03-12T23:13:47.811181Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(121), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.201405Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 140 }
2025-03-12T23:13:48.201497Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.201515Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.201558Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(119), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.201598Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(119) }
2025-03-12T23:13:48.201646Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(119), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:48.203800Z DEBUG xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:48.204114Z DEBUG xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=UpdateGroupMembership
2025-03-12T23:13:48.205406Z DEBUG xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:48.205789Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 0b5abd46a84bd70f157a06edb975f48c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:48.205798Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=0b5abd46a84bd70f157a06edb975f48c inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:48.206109Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 0b5abd46a84bd70f157a06edb975f48c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:48.206114Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=0b5abd46a84bd70f157a06edb975f48c inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:48.206339Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.206378Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.206378Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.206396Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.206488Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(123), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.206504Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(125), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.206510Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(123) }
2025-03-12T23:13:48.206544Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(125) }
2025-03-12T23:13:48.206650Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(123), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.206659Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(125), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.206813Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::intents: old group membership: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 0}
2025-03-12T23:13:48.206826Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::intents: updated group membership: {"c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455": 75917, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d": 75911}
2025-03-12T23:13:48.206831Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 0}, failed_installations: [] }. New GroupMembership { members: {"c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455": 75917, "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d": 75911}, failed_installations: [] }
2025-03-12T23:13:48.206965Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" from None to Some(75904)
2025-03-12T23:13:48.207094Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:48.207103Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455" from None to Some(75917)
2025-03-12T23:13:48.207141Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:48.207146Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d" from None to Some(75911)
2025-03-12T23:13:48.207168Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:48.207172Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" from None to Some(75922)
2025-03-12T23:13:48.207184Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:48.207190Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:fetch_key_packages: xmtp_api::mls: fetch key packages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.207203Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:fetch_key_packages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.207235Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(127), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.207246Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(127) }
2025-03-12T23:13:48.207249Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(127), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.232057Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(121), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.232098Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(121) }
2025-03-12T23:13:48.232105Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(121), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:48.232165Z  INFO publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [35] of type [SendMessage] intent.id=35 intent.kind=SendMessage inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="859cf7f94fe7e67a34d4c47b35df5af6"
2025-03-12T23:13:48.413961Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 444 }
2025-03-12T23:13:48.414055Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.414074Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.414140Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(123), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.414189Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(125), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.414564Z DEBUG xmtp_mls::subscriptions::stream_messages: added group_id=0b5abd46a84bd70f157a06edb975f48c at cursor=1 to messages stream
2025-03-12T23:13:48.414613Z DEBUG xmtp_mls::subscriptions::stream_messages: added group_id=0b5abd46a84bd70f157a06edb975f48c at cursor=1 to messages stream
2025-03-12T23:13:48.414625Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(43), error_code: CANCEL }
2025-03-12T23:13:48.414643Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(21), error_code: CANCEL }
2025-03-12T23:13:48.428410Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(127), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.428437Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(127) }
2025-03-12T23:13:48.428443Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(127), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:48.431208Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [36] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=36 intent.kind=UpdateGroupMembership group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:48.431302Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.431327Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.431358Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(129), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.431371Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(129) }
2025-03-12T23:13:48.431409Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(129), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.627087Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2844 }
2025-03-12T23:13:48.627174Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.627187Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.651361Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(129), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.651387Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(129) }
2025-03-12T23:13:48.651392Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(129), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:48.651431Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] published intent [36] of type [UpdateGroupMembership] intent.id=36 intent.kind=UpdateGroupMembership inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:48.651447Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: Commit sent. Stopping further publishes for this round
2025-03-12T23:13:48.651564Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="0b5abd46a84bd70f157a06edb975f48c"}: xmtp_api::mls: query group messages group_id="0b5abd46a84bd70f157a06edb975f48c" id_cursor=0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.651581Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="0b5abd46a84bd70f157a06edb975f48c"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.651607Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(131), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.651620Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(131) }
2025-03-12T23:13:48.651623Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(131), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.665305Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(125) }
2025-03-12T23:13:48.665327Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(123) }
2025-03-12T23:13:48.665368Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x0b5a...f48c cursor_id=[417119] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="0b5abd46a84bd70f157a06edb975f48c" cursor_id=417119
2025-03-12T23:13:48.665368Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]  is about to process streamed envelope for group 0x0b5a...f48c cursor_id=[417119] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="0b5abd46a84bd70f157a06edb975f48c" cursor_id=417119
2025-03-12T23:13:48.665659Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=0 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="0b5abd46a84bd70f157a06edb975f48c" cursor_id=417119 epoch=0
2025-03-12T23:13:48.665671Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:13:48.665673Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:13:48.665809Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=0 for [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] in process_stream_entry() inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="0b5abd46a84bd70f157a06edb975f48c" cursor_id=417119 epoch=0
2025-03-12T23:13:48.665816Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-12T23:13:48.665817Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-12T23:13:48.665894Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x0b5a...f48c in epoch 0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="0b5abd46a84bd70f157a06edb975f48c" cursor_id=417119 epoch=0
2025-03-12T23:13:48.665980Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0x0b5a...f48c in epoch 0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" group_id="0b5abd46a84bd70f157a06edb975f48c" cursor_id=417119 epoch=0
2025-03-12T23:13:48.666142Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="0b5abd46a84bd70f157a06edb975f48c"}: xmtp_api::mls: query group messages group_id="0b5abd46a84bd70f157a06edb975f48c" id_cursor=0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.666160Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="0b5abd46a84bd70f157a06edb975f48c"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.666202Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(133), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.666212Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(133) }
2025-03-12T23:13:48.666214Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(133), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.666290Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="0b5abd46a84bd70f157a06edb975f48c"}: xmtp_api::mls: query group messages group_id="0b5abd46a84bd70f157a06edb975f48c" id_cursor=0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.666299Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="0b5abd46a84bd70f157a06edb975f48c"}: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.666314Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(135), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.666320Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(135) }
2025-03-12T23:13:48.666323Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(135), flags: (0x1: END_STREAM) }
2025-03-12T23:13:48.856819Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 29 }
2025-03-12T23:13:48.856921Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.856938Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:48.856979Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(131), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.857016Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(131) }
2025-03-12T23:13:48.857087Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(131), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:48.858184Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 58da285b5016f8cff660d87e74e859c8561a927db09e50f10e989b7eca928858, id = 417119 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119
2025-03-12T23:13:48.858226Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417119] for intent [36] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119 intent_id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:48.859433Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] Validating commit for intent 36. Message timestamp: 1741821228686227000
2025-03-12T23:13:48.859605Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455": 75917, "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d": 75911}, failed_installations: [] }
2025-03-12T23:13:48.859644Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 0}, failed_installations: [] }. New GroupMembership { members: {"661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e": 75922, "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc": 75904, "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455": 75917, "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d": 75911}, failed_installations: [] }
2025-03-12T23:13:48.859908Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc" from None to Some(75904)
2025-03-12T23:13:48.860186Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:48.860217Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455" from None to Some(75917)
2025-03-12T23:13:48.860317Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:48.860332Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d" from None to Some(75911)
2025-03-12T23:13:48.860402Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:48.860416Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" from None to Some(75922)
2025-03-12T23:13:48.860457Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:48.860518Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:48.860549Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:48.860664Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]-[0b5abd46a84bd70f157a06edb975f48c] processing own message for intent 36 / UpdateGroupMembership, message_epoch: 0 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119 intent.id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:48.860685Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] merging pending commit for intent 36
2025-03-12T23:13:48.861144Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e]: Storing a transcript message with 3 members added and 0 members removed and 0 metadata changes
2025-03-12T23:13:48.862966Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:48.863006Z  INFO sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [0b5abd46a84bd70f157a06edb975f48c] envelope cursor[417119]
2025-03-12T23:13:48.863180Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: taking post commit action inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:48.863540Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: total welcome message proto bytes=2889
2025-03-12T23:13:48.863543Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: welcome chunk_size=16332
2025-03-12T23:13:48.863548Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit:send_welcome_messages: xmtp_api::mls: send welcome messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:48.863586Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit:send_welcome_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:48.863639Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(137), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:48.863661Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(137) }
2025-03-12T23:13:48.863728Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(137), flags: (0x1: END_STREAM) }
2025-03-12T23:13:49.056879Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 8769 }
2025-03-12T23:13:49.056977Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:49.057000Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:49.069590Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(133), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.069626Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(133) }
2025-03-12T23:13:49.069634Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(133), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:49.069663Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(135), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.069672Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(135) }
2025-03-12T23:13:49.069675Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(135), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-12T23:13:49.070036Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 58da285b5016f8cff660d87e74e859c8561a927db09e50f10e989b7eca928858, id = 417119 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119
2025-03-12T23:13:49.070048Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 58da285b5016f8cff660d87e74e859c8561a927db09e50f10e989b7eca928858, id = 417119 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119
2025-03-12T23:13:49.070058Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417119] for intent [36] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119 intent_id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:49.070049Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] is about to process own envelope [417119] for intent [36] inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119 intent_id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:49.070366Z  WARN process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: Intent for msg = [417119] was published in epoch 0 but group is currently in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119 intent.id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:49.070378Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.070421Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:49.070437Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [0b5abd46a84bd70f157a06edb975f48c] envelope cursor [417119] error:[[417119] already processed]
2025-03-12T23:13:49.070446Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. ProcessIntent(AlreadyProcessed(417119)):[417119] already processed
2025-03-12T23:13:49.070452Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [ProcessIntent(AlreadyProcessed(417119))] group_id="0b5abd46a84bd70f157a06edb975f48c" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:13:49.070457Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([ProcessIntent(AlreadyProcessed(417119))]) error=Receive errors: [ProcessIntent(AlreadyProcessed(417119))]
2025-03-12T23:13:49.070518Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: taking post commit action inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:49.070896Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: total welcome message proto bytes=2889
2025-03-12T23:13:49.070900Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: welcome chunk_size=16332
2025-03-12T23:13:49.070905Z DEBUG process:sync_with_conn:post_commit:send_welcome_messages: xmtp_api::mls: send welcome messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:49.070954Z DEBUG process:sync_with_conn:post_commit:send_welcome_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:49.071034Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(139), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.071049Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(139) }
2025-03-12T23:13:49.071099Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(139), flags: (0x1: END_STREAM) }
2025-03-12T23:13:49.071175Z  WARN process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: Intent for msg = [417119] was published in epoch 0 but group is currently in epoch 1 inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f group_id="0b5abd46a84bd70f157a06edb975f48c" cursor=417119 intent.id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:49.071192Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.071217Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:49.071232Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [0b5abd46a84bd70f157a06edb975f48c] envelope cursor [417119] error:[[417119] already processed]
2025-03-12T23:13:49.071238Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. ProcessIntent(AlreadyProcessed(417119)):[417119] already processed
2025-03-12T23:13:49.071243Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [ProcessIntent(AlreadyProcessed(417119))] group_id="0b5abd46a84bd70f157a06edb975f48c" inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id="85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f"
2025-03-12T23:13:49.071247Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([ProcessIntent(AlreadyProcessed(417119))]) error=Receive errors: [ProcessIntent(AlreadyProcessed(417119))]
2025-03-12T23:13:49.071297Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: taking post commit action inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=36 intent.kind=UpdateGroupMembership
2025-03-12T23:13:49.071635Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: total welcome message proto bytes=2889
2025-03-12T23:13:49.071639Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: welcome chunk_size=16332
2025-03-12T23:13:49.071645Z DEBUG process:sync_with_conn:post_commit:send_welcome_messages: xmtp_api::mls: send welcome messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:49.071660Z DEBUG process:sync_with_conn:post_commit:send_welcome_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:49.071697Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(141), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.071707Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(141) }
2025-03-12T23:13:49.071745Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(141), flags: (0x1: END_STREAM) }
2025-03-12T23:13:49.125296Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:13:49.125632Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="0d5675dae455c571f61d418d7ee78343086d65b8323a80dc0e03251df4bf881c" welcome_id=4905577
2025-03-12T23:13:49.125792Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.125833Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.129825Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:49.130029Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:13:49.130614Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:49.130677Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:49.130693Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:49.130706Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:49.130722Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:13:49.130725Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.130733Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.131881Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:13:49.131941Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group is inserted
2025-03-12T23:13:49.132901Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:49.133199Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 0b5abd46a84bd70f157a06edb975f48c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:49.133211Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=0b5abd46a84bd70f157a06edb975f48c inbox_id="88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d" installation_id=0d5675dae455c571f61d418d7ee78343086d65b8323a80dc0e03251df4bf881c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:49.133447Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d"
2025-03-12T23:13:49.133481Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:49.133540Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.133557Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-12T23:13:49.133561Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21), flags: (0x1: END_STREAM) }
2025-03-12T23:13:49.167824Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:13:49.167942Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="36679e579e52ff0cd9c60a19e30c4f8d39bfccf51c07a1dd65637967a029628a" welcome_id=4905583
2025-03-12T23:13:49.168135Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.168163Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.171461Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:49.171490Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:13:49.171853Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:49.171951Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:49.172067Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:49.172092Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:49.172106Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:13:49.172109Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.172115Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.173056Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:13:49.173094Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group is inserted
2025-03-12T23:13:49.173582Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:49.173776Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 0b5abd46a84bd70f157a06edb975f48c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:49.173781Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=0b5abd46a84bd70f157a06edb975f48c inbox_id="5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455" installation_id=36679e579e52ff0cd9c60a19e30c4f8d39bfccf51c07a1dd65637967a029628a group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:49.173953Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455"
2025-03-12T23:13:49.173975Z DEBUG tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:49.174014Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.174026Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-12T23:13:49.174029Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-12T23:13:49.225826Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(137), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.225891Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(137) }
2025-03-12T23:13:49.225910Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(137), flags: (0x5: END_HEADERS | END_STREAM) }
[2025-03-12T23:13:49.227Z] [info] Group created with id 0b5abd46a84bd70f157a06edb975f48c by c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc
2025-03-12T23:13:49.228479Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.228643Z DEBUG send_message: xmtp_mls::groups::intents: queued intent inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" intent_kind=SendMessage
2025-03-12T23:13:49.229149Z DEBUG send_message: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:49.231509Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e] set stored intent [37] to state `published` inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e" installation_id=85f9c1c40cab9e342aa62ee1dea0fd78cec415f02deec4d49ed82cfd36f49a9f intent.id=37 intent.kind=SendMessage group_id="827357175ddccc0536445c8201043a44"
2025-03-12T23:13:49.231578Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e"
2025-03-12T23:13:49.231601Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-12T23:13:49.231646Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(143), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.231657Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(143) }
2025-03-12T23:13:49.231743Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(143), flags: (0x1: END_STREAM) }
2025-03-12T23:13:49.266095Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 8711 }
2025-03-12T23:13:49.266187Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:49.266199Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:49.310414Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:13:49.310785Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="0d5675dae455c571f61d418d7ee78343086d65b8323a80dc0e03251df4bf881c" welcome_id=4905600
2025-03-12T23:13:49.311200Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.311253Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.315151Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:49.315205Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:13:49.316042Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:49.316241Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:49.316270Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:49.316285Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:49.316301Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:13:49.316304Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.316311Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.317206Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:13:49.317246Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group already exists
2025-03-12T23:13:49.317562Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:49.317828Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 0b5abd46a84bd70f157a06edb975f48c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:49.317836Z DEBUG xmtp_mls::subscriptions::stream_messages: group 0b5abd46a84bd70f157a06edb975f48c already in stream
2025-03-12T23:13:49.317990Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 99 }
2025-03-12T23:13:49.318003Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:49.318007Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-12T23:13:49.318019Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-12T23:13:49.318074Z DEBUG xmtp_mls::subscriptions::stream_messages: added group_id=0b5abd46a84bd70f157a06edb975f48c at cursor=1 to messages stream
2025-03-12T23:13:49.318091Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(19), error_code: CANCEL }
2025-03-12T23:13:49.329099Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:13:49.329166Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="36679e579e52ff0cd9c60a19e30c4f8d39bfccf51c07a1dd65637967a029628a" welcome_id=4905602
2025-03-12T23:13:49.329257Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.329266Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.330034Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-12T23:13:49.330046Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-12T23:13:49.330183Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: c6886956305d64f103629bb2a36b08b28e3c81eb9e1db730a380744f959ff5dc 75904
2025-03-12T23:13:49.330199Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 5fddf7817079e3a93bd842b4db5182fcfcca82ded7a000ace50a07ae0dc61455 75917
2025-03-12T23:13:49.330211Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 661832e0198c094e39269614d27bd7425a2adac630f31a9ca28c25801423a80e 75922
2025-03-12T23:13:49.330240Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88656905f70b8673ab3d3240ea506f0d4324d0efea5af4cf9a0e30be3511681d 75911
2025-03-12T23:13:49.330251Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-12T23:13:49.330254Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-12T23:13:49.330256Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-12T23:13:49.331141Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-12T23:13:49.331174Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group already exists
2025-03-12T23:13:49.331438Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-12T23:13:49.331604Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 0b5abd46a84bd70f157a06edb975f48c group_id="0b5abd46a84bd70f157a06edb975f48c"
2025-03-12T23:13:49.331609Z DEBUG xmtp_mls::subscriptions::stream_messages: group 0b5abd46a84bd70f157a06edb975f48c already in stream
2025-03-12T23:13:49.336899Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-12T23:13:49.336954Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="0d5675dae455c571f61d418d7ee78343086d65b8323a80dc0e03251df4bf881c" welcome_id=4905598
2025-03-12T23:13:49.337099Z  INFO process: xmtp_mls::subscriptions::stream_conversations: error is not retryable. NotFound(GroupByWelcome(4905598)):group with welcome id 4905598 not found
2025-03-12T23:13:49.337105Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Processing welcome failed, trying to load existing..
fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-testing % 