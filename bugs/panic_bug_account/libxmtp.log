5-03-03T14:14:20.851828Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connecting to 3.132.13.169:443
2025-03-03T14:14:20.852109Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: hyper_util::client::legacy::connect::http: connected to 3.132.13.169:443
2025-03-03T14:14:21.190589Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-03T14:14:21.190708Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-03T14:14:21.190731Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-03T14:14:21.190929Z  INFO xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-03T14:14:21.191324Z DEBUG xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bug/bug-a-0xc9925662D36DE3e1bF0fD64e779B2e5F0Aead964-44-436360a-dev] exists? [true]
2025-03-03T14:14:21.191408Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-03T14:14:21.191436Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-03T14:14:21.191464Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-03T14:14:21.192974Z DEBUG xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bug/bug-a-0xc9925662D36DE3e1bF0fD64e779B2e5F0Aead964-44-436360a-dev], salt=[/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bug/bug-a-0xc9925662D36DE3e1bF0fD64e779B2e5F0Aead964-44-436360a-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bug/bug-a-0xc9925662D36DE3e1bF0fD64e779B2e5F0Aead964-44-436360a-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bug/bug-a-0xc9925662D36DE3e1bF0fD64e779B2e5F0Aead964-44-436360a-dev
2025-03-03T14:14:21.199418Z  INFO xmtp_mls::storage::encrypted_store::sqlcipher_connection: Sqlite cipher_version=Some("4.5.7 community"), cipher_provider_version="OpenSSL 3.4.0 22 Oct 2024"
2025-03-03T14:14:21.199442Z DEBUG xmtp_mls::storage::encrypted_store::sqlcipher_connection: SQLCipher Database validated.
2025-03-03T14:14:21.201185Z  INFO xmtp_mls::storage::encrypted_store::private: Running DB migrations
2025-03-03T14:14:21.201266Z  INFO xmtp_mls::storage::encrypted_store::private: sqlite_version=3.45.3
2025-03-03T14:14:21.201269Z  INFO xmtp_mls::storage::encrypted_store::private: Migrations successful
2025-03-03T14:14:21.201295Z  INFO xmtp_mls::identity: Initializing identity
2025-03-03T14:14:21.201614Z DEBUG xmtp_mls::identity: identity in store: Some(Identity { inbox_id: "0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72", installation_keys: XmtpInstallationCredential(SigningKey { verifying_key: VerifyingKey(CompressedEdwardsY: [192, 40, 13, 222, 159, 93, 125, 38, 205, 9, 177, 41, 54, 14, 144, 106, 77, 0, 57, 160, 32, 68, 249, 183, 78, 112, 190, 243, 213, 100, 78, 24]), EdwardsPoint{
        X: FieldElement51([2071696242100020, 1778254186001782, 1461479359584602, 2067020320652175, 1415819741295445]),
        Y: FieldElement51([94674520398323, 1261197067241768, 1270933744194535, 1847967524085596, 1367844732001811]),
        Z: FieldElement51([1013215863656724, 1208116342267380, 1320032772895148, 1888015615389510, 531040135576099]),
        T: FieldElement51([707138306395458, 1443211785189505, 1954034722054831, 1321106723682213, 1254751051993554])
}), .. }), credential: Credential { credential_type: Basic, serialized_credential_content: VLBytes { 0x0a4030636165663066663930373333663233396338333331656665326432366630373564316230646232303532343337366264386563373837363564613334663732 } }, signature_request: None, is_ready: true })
2025-03-03T14:14:21.201658Z DEBUG xmtp_mls::identity: Found existing identity in store installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18" inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:21.201663Z DEBUG xmtp_mls::builder: Initialized identity inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72" installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"
2025-03-03T14:14:21.201669Z DEBUG xmtp_mls::identity_updates: Fetching identity updates for: ["0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"]
2025-03-03T14:14:21.201760Z DEBUG get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72", sequence_id: Some(54498) }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:21.201806Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.201820Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1) }
2025-03-03T14:14:21.201823Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
2025-03-03T14:14:21.375556Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) }
2025-03-03T14:14:21.375655Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-03T14:14:21.417062Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: binding client connection
2025-03-03T14:14:21.417215Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::client: client connection bound
2025-03-03T14:14:21.417237Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}: h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384, max_header_list_size: 16384 }
2025-03-03T14:14:21.417408Z  INFO xmtp_mls::storage::encrypted_store: Setting up DB connection pool
2025-03-03T14:14:21.417645Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_frame_size: 16384 }
2025-03-03T14:14:21.417675Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) }
2025-03-03T14:14:21.417653Z DEBUG xmtp_mls::storage::encrypted_store::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bob/bob-a-0x96e34774c524aa159d0c910d0bB37fe702A4dA61-44-436360a-dev] exists? [true]
2025-03-03T14:14:21.417696Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 }
2025-03-03T14:14:21.418794Z DEBUG xmtp_mls::storage::encrypted_store::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bob/bob-a-0x96e34774c524aa159d0c910d0bB37fe702A4dA61-44-436360a-dev], salt=[/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bob/bob-a-0x96e34774c524aa159d0c910d0bB37fe702A4dA61-44-436360a-dev.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bob/bob-a-0x96e34774c524aa159d0c910d0bB37fe702A4dA61-44-436360a-dev.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/qa-testing/bugs/panic_bug_account/.data/bob/bob-a-0x96e34774c524aa159d0c910d0bB37fe702A4dA61-44-436360a-dev
2025-03-03T14:14:21.424095Z  INFO xmtp_mls::storage::encrypted_store::sqlcipher_connection: Sqlite cipher_version=Some("4.5.7 community"), cipher_provider_version="OpenSSL 3.4.0 22 Oct 2024"
2025-03-03 11:14:21.424: sqlcipher_set_log: set log to stderr
2025-03-03T14:14:21.424192Z DEBUG xmtp_mls::storage::encrypted_store::sqlcipher_connection: SQLCipher Database validated.
2025-03-03T14:14:21.426044Z  INFO xmtp_mls::storage::encrypted_store::private: Running DB migrations
2025-03-03T14:14:21.426113Z  INFO xmtp_mls::storage::encrypted_store::private: sqlite_version=3.45.3
2025-03-03T14:14:21.426116Z  INFO xmtp_mls::storage::encrypted_store::private: Migrations successful
2025-03-03T14:14:21.426135Z  INFO xmtp_mls::identity: Initializing identity
2025-03-03T14:14:21.426419Z DEBUG xmtp_mls::identity: identity in store: Some(Identity { inbox_id: "31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc", installation_keys: XmtpInstallationCredential(SigningKey { verifying_key: VerifyingKey(CompressedEdwardsY: [163, 219, 99, 132, 15, 217, 16, 208, 128, 195, 206, 213, 154, 50, 165, 35, 139, 106, 131, 39, 157, 47, 149, 196, 33, 217, 107, 36, 61, 220, 9, 100]), EdwardsPoint{
        X: FieldElement51([1824200568838119, 2167490370565634, 1817567252164378, 1330114651316345, 485922279492001]),
        Y: FieldElement51([1867318308053025, 1792324743648961, 1639039736775897, 720606935916242, 376087661807348]),
        Z: FieldElement51([468700790317152, 479074474553684, 472010649792136, 901659269963991, 835430304218205]),
        T: FieldElement51([1950909210492471, 81233752773564, 1586940985759609, 2067417376290184, 58635589752827])
}), .. }), credential: Credential { credential_type: Basic, serialized_credential_content: VLBytes { 0x0a4033316131386334313863346430633262363265383765656264653665643531616433346431363734353165363233333664346539323831633165333435366263 } }, signature_request: None, is_ready: true })
2025-03-03T14:14:21.426456Z DEBUG xmtp_mls::identity: Found existing identity in store installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:21.426461Z DEBUG xmtp_mls::builder: Initialized identity inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc" installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"
2025-03-03T14:14:21.426464Z DEBUG xmtp_mls::identity_updates: Fetching identity updates for: ["31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"]
2025-03-03T14:14:21.426542Z DEBUG get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc", sequence_id: Some(54495) }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:21.426581Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.426594Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1) }
2025-03-03T14:14:21.426597Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(1), flags: (0x1: END_STREAM) }
2025-03-03T14:14:21.552138Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 77 }
2025-03-03T14:14:21.552264Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:21.552285Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:21.552354Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.552401Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-03T14:14:21.552438Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:21.553118Z DEBUG xmtp_mls::groups::device_sync: starting sync worker inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72" installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"
2025-03-03T14:14:21.553535Z  INFO xmtp_mls::groups::device_sync: Initializing device sync... url: Some("https://message-history.dev.ephemera.network") inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72" installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"
2025-03-03T14:14:21.554532Z  INFO xmtp_mls::groups::device_sync: Device sync initialized. inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72" installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"
2025-03-03T14:14:21.557147Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: xmtp_api::mls: query welcomes installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18" cursor=0 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:21.557216Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: tower::buffer::worker: service.ready=true processing request
stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:21.556Z] [warn] [bug-a] Create XMTP client v:436360a 2.037s


 ❯ bugs/panic_bug_account/test.test.ts 0/10

 Test Files 0 passed (1)
      Tests 0 passed (10)
   Start at 11:14:18
   Duration 2.92s
2025-03-03T14:14:21.797185Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 77 }
2025-03-03T14:14:21.797233Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:21.797238Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:21.797267Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.797287Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) }
2025-03-03T14:14:21.797377Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:21.797597Z DEBUG xmtp_mls::groups::device_sync: starting sync worker inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc" installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"
2025-03-03T14:14:21.797739Z  INFO xmtp_mls::groups::device_sync: Initializing device sync... url: Some("https://message-history.dev.ephemera.network") inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc" installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"
2025-03-03T14:14:21.798100Z  INFO xmtp_mls::groups::device_sync: Device sync initialized. inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc" installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"
2025-03-03T14:14:21.798534Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(718471) installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"}: xmtp_api::mls: query welcomes installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964" cursor=718471 inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:21.798571Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(718471) installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:21.798636Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.798655Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(3) }
2025-03-03T14:14:21.798659Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(3), flags: (0x1: END_STREAM) }
2025-03-03T14:14:21.951805Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 45 }
2025-03-03T14:14:21.951927Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:21.951967Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:21.952135Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.952334Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(3) }
2025-03-03T14:14:21.952369Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(3), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:21.953066Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:21.953167Z  INFO sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:21.953725Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:21.953774Z ERROR sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:21.953797Z  INFO sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:21.957779Z DEBUG sync_welcomes:upload_key_package: xmtp_api::mls: upload key packages inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:21.957854Z DEBUG sync_welcomes:upload_key_package: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:21.957937Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:21.957955Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(5) }
2025-03-03T14:14:21.958009Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(5), flags: (0x1: END_STREAM) }
2025-03-03T14:14:22.173933Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 49 }
2025-03-03T14:14:22.174058Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.174078Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.183068Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(3), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.183173Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(3) }
2025-03-03T14:14:22.359272Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 436 }
2025-03-03T14:14:22.359397Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.359417Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.359460Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.359506Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(5) }
2025-03-03T14:14:22.359535Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(5), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:22.360025Z DEBUG sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.362578Z DEBUG sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-03T14:14:22.363203Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(3) }
2025-03-03T14:14:22.363244Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(3), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:22.363579Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.363612Z  INFO sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:22.364023Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:22.364058Z ERROR sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:22.364080Z  INFO sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:22.364126Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.364140Z  INFO sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:22.364225Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:22.364286Z DEBUG stream_all_messages: xmtp_mls::subscriptions: stream all messages inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72" installation_id=c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18 conversation_type=None
2025-03-03T14:14:22.367074Z ERROR sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:22.367105Z  INFO sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:22.367221Z DEBUG stream_all_messages:sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: xmtp_api::mls: query welcomes installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18" cursor=0 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:22.367274Z DEBUG stream_all_messages:sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:22.367568Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.367625Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(7) }
2025-03-03T14:14:22.367637Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(7), flags: (0x1: END_STREAM) }
2025-03-03T14:14:22.369274Z DEBUG sync_welcomes:upload_key_package: xmtp_api::mls: upload key packages inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:22.369317Z DEBUG sync_welcomes:upload_key_package: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:22.369382Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.369397Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(5) }
2025-03-03T14:14:22.369456Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(5), flags: (0x1: END_STREAM) }
2025-03-03T14:14:22.585161Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 436 }
2025-03-03T14:14:22.585180Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.585183Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.592258Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(5), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.592270Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(5) }
2025-03-03T14:14:22.592275Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(5), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:22.592311Z DEBUG sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.593096Z DEBUG sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-03T14:14:22.593250Z DEBUG stream_all_messages: xmtp_mls::subscriptions: stream all messages inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc" installation_id=a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964 conversation_type=None
2025-03-03T14:14:22.593315Z DEBUG stream_all_messages:sync_welcomes:query_welcome_messages{id_cursor=Some(718471) installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"}: xmtp_api::mls: query welcomes installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964" cursor=718471 inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:22.593332Z DEBUG stream_all_messages:sync_welcomes:query_welcome_messages{id_cursor=Some(718471) installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:22.593365Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.593377Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(7) }
2025-03-03T14:14:22.593380Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(7), flags: (0x1: END_STREAM) }
2025-03-03T14:14:22.595085Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: xmtp_api::mls: query welcomes installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18" cursor=0 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:22.595099Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:22.595118Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.595124Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(9) }
2025-03-03T14:14:22.595126Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(9), flags: (0x1: END_STREAM) }
2025-03-03T14:14:22.763459Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 45 }
2025-03-03T14:14:22.763667Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.763694Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.763746Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.763828Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(7) }
2025-03-03T14:14:22.764277Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(7), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:22.764836Z DEBUG stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.764957Z  INFO stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:22.765248Z DEBUG stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:22.765285Z ERROR stream_all_messages:sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:21.798Z] [warn] [bob-a] Create XMTP client v:436360a 2.280s

stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:22.365Z] [warn] [bug-a] Start message stream 807.519ms

stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:22.367Z] [warn] [bug-a] Start stream 810.907ms
[2025-03-03T14:14:22.367Z] [warn] [bug-a] Initialize XMTP client 2.879s

stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:22.593Z] [warn] [bob-a] Start message stream 794.808ms

stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:22.593Z] [warn] [bob-a] Start stream 795.073ms
[2025-03-03T14:14:22.593Z] [warn] [bob-a] Initialize XMTP client 3.077s

stdout | bugs/panic_bug_account/test.test.ts > panic_bug_account
[2025-03-03T14:14:22.593Z] [info] bug 0xc9925662D36DE3e1bF0fD64e779B2e5F0Aead964
[2025-03-03T14:14:22.594Z] [info] bob 0x96e34774c524aa159d0c910d0bB37fe702A4dA61


 ❯ bugs/panic_bug_account/test.test.ts 0/10

 Test Files 0 passed (1)
      Tests 0 passed (10)
   Start at 11:14:18
   Duration 3.93s
2025-03-03T14:14:22.946726Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.946913Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(9) }
2025-03-03T14:14:22.946961Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(9), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:22.947875Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.947948Z  INFO sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:22.948674Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:22.948717Z ERROR sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:22.948739Z  INFO sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:22.953750Z DEBUG sync_welcomes:upload_key_package: xmtp_api::mls: upload key packages inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:22.953903Z DEBUG sync_welcomes:upload_key_package: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:22.954091Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(13), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.954146Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(13) }
2025-03-03T14:14:22.954604Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(13), flags: (0x1: END_STREAM) }
2025-03-03T14:14:22.997642Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 49 }
2025-03-03T14:14:22.997663Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.997666Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:22.997686Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(7), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.997698Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(7) }
2025-03-03T14:14:22.997711Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(7) }
2025-03-03T14:14:22.997714Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(7), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:22.997878Z DEBUG stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.997898Z  INFO stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:22.997953Z DEBUG stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:22.997965Z ERROR stream_all_messages:sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:22.997971Z  INFO stream_all_messages:sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:22.997983Z DEBUG stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:22.997987Z  INFO stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:22.998010Z DEBUG stream_all_messages:sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:22.998019Z ERROR stream_all_messages:sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:22.998023Z  INFO stream_all_messages:sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:22.999267Z DEBUG stream_all_messages:sync_welcomes:upload_key_package: xmtp_api::mls: upload key packages inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:22.999291Z DEBUG stream_all_messages:sync_welcomes:upload_key_package: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:22.999320Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:22.999331Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(9) }
2025-03-03T14:14:22.999349Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(9), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.124022Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 481 }
2025-03-03T14:14:23.124044Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.124048Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.124057Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.124069Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-03T14:14:23.124094Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(11), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:23.124166Z DEBUG stream_all_messages:sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:23.124938Z DEBUG stream_all_messages:sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-03T14:14:23.125442Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_conversations: Setting up conversation stream cursor = 0 cursor=0 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.125449Z DEBUG stream_all_messages: xmtp_api::mls: subscribing to welcome messages inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.125467Z DEBUG stream_all_messages: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.125502Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(15), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.125513Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(15) }
2025-03-03T14:14:23.125516Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(15), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.311447Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(13), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.311569Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-03T14:14:23.311597Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(13), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:23.311777Z DEBUG sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:23.313879Z DEBUG sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-03T14:14:23.315697Z  INFO xmtp_mls::client: [0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72] syncing group inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.315717Z  INFO xmtp_mls::client: [0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72] syncing group inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.318024Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(207623) group_id="bc16b0f044bbfcac4d60fc573178b4b9"}: xmtp_api::mls: query group messages group_id="bc16b0f044bbfcac4d60fc573178b4b9" id_cursor=207623 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.318086Z  INFO xmtp_mls::client: [0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72] syncing group inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.318090Z  INFO xmtp_mls::client: [0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72] syncing group inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.318475Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(207622) group_id="55415df8b3ab4b1e80e084ad5ce1e800"}: xmtp_api::mls: query group messages group_id="55415df8b3ab4b1e80e084ad5ce1e800" id_cursor=207622 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.318498Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(207623) group_id="bc16b0f044bbfcac4d60fc573178b4b9"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.318509Z DEBUG sync_with_conn:receive:query_group_messages{id_cursor=Some(207622) group_id="55415df8b3ab4b1e80e084ad5ce1e800"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.318573Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.318625Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(17) }
2025-03-03T14:14:23.318635Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(17), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.318779Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.318804Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-03T14:14:23.318810Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.368724Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 436 }
2025-03-03T14:14:23.368797Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.368805Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.368822Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(9), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.368837Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(9) }
2025-03-03T14:14:23.369010Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(9), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:23.369107Z DEBUG stream_all_messages:sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:23.370119Z DEBUG stream_all_messages:sync_welcomes: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-03T14:14:23.370322Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_conversations: Setting up conversation stream cursor = 718471 cursor=718471 inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.370336Z DEBUG stream_all_messages: xmtp_api::mls: subscribing to welcome messages inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.370355Z DEBUG stream_all_messages: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.370398Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.370413Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(11) }
2025-03-03T14:14:23.370416Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(11), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.491278Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 477 }
2025-03-03T14:14:23.491303Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.491307Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.491317Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(15), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.491478Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: setting up messages subscription
2025-03-03T14:14:23.491500Z DEBUG stream_all_messages:query_latest_group_message{group_id="bc16b0f044bbfcac4d60fc573178b4b9"}: xmtp_api::mls: query latest group message group_id="bc16b0f044bbfcac4d60fc573178b4b9" inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.491514Z DEBUG stream_all_messages:query_latest_group_message{group_id="bc16b0f044bbfcac4d60fc573178b4b9"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.491539Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.491549Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-03T14:14:23.491551Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.669796Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.669854Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-03T14:14:23.669872Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(17), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:23.675855Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.675873Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(19) }
2025-03-03T14:14:23.675877Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:23.676277Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: xmtp_api::mls: query welcomes installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18" cursor=0 inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.676304Z DEBUG sync_welcomes:query_welcome_messages{id_cursor=Some(0) installation_id="c0280dde9f5d7d26cd09b129360e906a4d0039a02044f9b74e70bef3d5644e18"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.676339Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.676350Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23) }
2025-03-03T14:14:23.676353Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.783788Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 45 }
2025-03-03T14:14:23.783807Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.783811Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.783821Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(11), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.783844Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-03T14:14:23.783854Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(11) }
2025-03-03T14:14:23.783959Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: setting up messages subscription
2025-03-03T14:14:23.783972Z DEBUG stream_all_messages:query_latest_group_message{group_id="9425616e7f5497c19f8cb7ccf80055c4"}: xmtp_api::mls: query latest group message group_id="9425616e7f5497c19f8cb7ccf80055c4" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.783984Z DEBUG stream_all_messages:query_latest_group_message{group_id="24c475a12c921eb38555e8a5e3b7ba90"}: xmtp_api::mls: query latest group message group_id="24c475a12c921eb38555e8a5e3b7ba90" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.783989Z DEBUG stream_all_messages:query_latest_group_message{group_id="141fb8f0374b5212a1c2443bf223b1ac"}: xmtp_api::mls: query latest group message group_id="141fb8f0374b5212a1c2443bf223b1ac" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.783993Z DEBUG stream_all_messages:query_latest_group_message{group_id="2799a6b7922bdc0a5530b7b8bc0fe48d"}: xmtp_api::mls: query latest group message group_id="2799a6b7922bdc0a5530b7b8bc0fe48d" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.783997Z DEBUG stream_all_messages:query_latest_group_message{group_id="1bf9acf981be01c12fe073058ca5bd01"}: xmtp_api::mls: query latest group message group_id="1bf9acf981be01c12fe073058ca5bd01" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.784002Z DEBUG stream_all_messages:query_latest_group_message{group_id="e70f77728c6263c1dc0f0bc8a6b2ae65"}: xmtp_api::mls: query latest group message group_id="e70f77728c6263c1dc0f0bc8a6b2ae65" inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:23.784011Z DEBUG stream_all_messages:query_latest_group_message{group_id="9425616e7f5497c19f8cb7ccf80055c4"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.784020Z DEBUG stream_all_messages:query_latest_group_message{group_id="24c475a12c921eb38555e8a5e3b7ba90"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.784022Z DEBUG stream_all_messages:query_latest_group_message{group_id="141fb8f0374b5212a1c2443bf223b1ac"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.784024Z DEBUG stream_all_messages:query_latest_group_message{group_id="2799a6b7922bdc0a5530b7b8bc0fe48d"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.784026Z DEBUG stream_all_messages:query_latest_group_message{group_id="1bf9acf981be01c12fe073058ca5bd01"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.784028Z DEBUG stream_all_messages:query_latest_group_message{group_id="e70f77728c6263c1dc0f0bc8a6b2ae65"}: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.784056Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(13), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.784070Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(15), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.784075Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.784078Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.784081Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.784086Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(13) }
2025-03-03T14:14:23.784089Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(15) }
2025-03-03T14:14:23.784099Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(17) }
2025-03-03T14:14:23.784103Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-03T14:14:23.784105Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-03T14:14:23.784107Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(13), flags: (0x1: END_STREAM) }
2025-03-03T14:14:23.784109Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(15), flags: (0x1: END_STREAM) }

 ❯ bugs/panic_bug_account/test.test.ts 0/10

 Test Files 0 passed (1)
      Tests 0 passed (10)
   Start at 11:14:18
   Duration 4.94s
2025-03-03T14:14:23.848142Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 95 }
2025-03-03T14:14:23.848273Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.848289Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:23.848635Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.848753Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-03T14:14:23.848800Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:23.849306Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0xbc16...b4b9 at 207623
2025-03-03T14:14:23.849328Z DEBUG stream_all_messages: xmtp_api::mls: subscribing to group messages inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:23.849436Z DEBUG stream_all_messages: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:23.849581Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(25), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:23.849909Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(25) }
2025-03-03T14:14:23.849927Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(25), flags: (0x1: END_STREAM) }
2025-03-03T14:14:24.026466Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.026621Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(23) }
2025-03-03T14:14:24.026675Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.027227Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:24.027289Z  INFO sync_welcomes:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:24.027580Z DEBUG sync_welcomes:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:24.027614Z ERROR sync_welcomes: xmtp_mls::client: failed to create group from welcome: Hpke error: Key not found
2025-03-03T14:14:24.027633Z  INFO sync_welcomes: xmtp_mls::client: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:24.029951Z DEBUG sync_welcomes:upload_key_package: xmtp_api::mls: upload key packages inbox_id="0caef0ff90733f239c8331efe2d26f075d1b0db20524376bd8ec78765da34f72"
2025-03-03T14:14:24.030063Z DEBUG sync_welcomes:upload_key_package: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:24.030403Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(27), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.030460Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(27) }
2025-03-03T14:14:24.030681Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(27), flags: (0x1: END_STREAM) }
2025-03-03T14:14:24.157503Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 29 }
2025-03-03T14:14:24.157570Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:24.157580Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:24.157607Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.157633Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(23) }
2025-03-03T14:14:24.158204Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.158252Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.158380Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(19) }
2025-03-03T14:14:24.158390Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.158398Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(13), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.158648Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-03T14:14:24.158657Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(17), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.158664Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-03T14:14:24.158671Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(13), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.158679Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(17), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.158873Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.158882Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-03T14:14:24.158889Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.158895Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(15), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.158902Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(15) }
2025-03-03T14:14:24.159080Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(15), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-03T14:14:24.159230Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x9425...55c4 at 207579
2025-03-03T14:14:24.159241Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x24c4...ba90 at 207621
2025-03-03T14:14:24.159245Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x141f...b1ac at 207586
2025-03-03T14:14:24.159250Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x2799...e48d at 207574
2025-03-03T14:14:24.159254Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0x1bf9...bd01 at 207584
2025-03-03T14:14:24.159395Z DEBUG stream_all_messages: xmtp_mls::subscriptions::stream_messages: subscribed to group 0xe70f...ae65 at 207589
2025-03-03T14:14:24.159401Z DEBUG stream_all_messages: xmtp_api::mls: subscribing to group messages inbox_id="31a18c418c4d0c2b62e87eebde6ed51ad34d167451e62336d4e9281c1e3456bc"
2025-03-03T14:14:24.159441Z DEBUG stream_all_messages: tower::buffer::worker: service.ready=true processing request
2025-03-03T14:14:24.159569Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(25), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.159599Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(25) }
2025-03-03T14:14:24.159608Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(25), flags: (0x1: END_STREAM) }
2025-03-03T14:14:24.203252Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 74 }
2025-03-03T14:14:24.203306Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:24.203312Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:24.203328Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(25), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.351071Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 294 }
2025-03-03T14:14:24.351133Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:24.351139Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-03T14:14:24.351158Z DEBUG grpc_connect{address="https://grpc.dev.xmtp.network:443"}:Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(25), flags: (0x4: END_HEADERS) }
2025-03-03T14:14:24.351362Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="a3db63840fd910d080c3ced59a32a5238b6a83279d2f95c421d96b243ddc0964" welcome_id=718580
2025-03-03T14:14:24.351470Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-03T14:14:24.351489Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-03T14:14:24.351601Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-03T14:14:24.351614Z  INFO process: xmtp_mls::subscriptions::stream_conversations: error is not retryable. Hpke(KeyNotFound):Hpke error: Key not found
2025-03-03T14:14:24.351620Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Processing welcome failed, trying to load existing..

thread 'tokio-runtime-worker' panicked at /Users/runner/work/libxmtp/libxmtp/xmtp_mls/src/subscriptions/stream_conversations.rs:346:5:
`async fn` resumed after completion
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
fabrizioguespe@fabrizios-MacBook-Pro qa-testing % 